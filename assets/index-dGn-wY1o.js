import{h as d,f as D,u as N,a as R,j as n,B as u,c as _,q as z,a3 as W,g as L,r as m,v as T,Z as X,W as I,a4 as f,e as B,T as M,P as Z,M as g,A as q,$ as G}from"./index-iJOU9LjR.js";import{B as J,u as O,a as U}from"./noise-BnVVm7Zg.js";import{M as P,b as H,l as K,a as Q,u as Y,m as S,A as ee}from"./use-colors-BxM1ci3V.js";import{u as te}from"./use-disclosure-NbPl2YBY.js";import{T as ne,I as oe}from"./IconX-D3748ucF.js";function se(s,e){return typeof s=="boolean"?s:e.autoContrast}function ae(s="top-end",e=0){const t={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},o=d(e),[a,r]=s.split("-");return a==="top"&&(t["--indicator-top"]=o,t["--indicator-translate-y"]="-50%"),a==="middle"&&(t["--indicator-top"]="50%",t["--indicator-translate-y"]="-50%"),a==="bottom"&&(t["--indicator-bottom"]=o,t["--indicator-translate-y"]="50%"),r==="start"&&(t["--indicator-left"]=o,t["--indicator-translate-x"]="-50%"),r==="center"&&(t["--indicator-left"]="50%",t["--indicator-translate-x"]="-50%"),r==="end"&&(t["--indicator-right"]=o,t["--indicator-translate-x"]="50%"),t}var $={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const re={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1},ie=_((s,{color:e,position:t,offset:o,size:a,radius:r,zIndex:l,autoContrast:c})=>({root:{"--indicator-color":e?z(e,s):void 0,"--indicator-text-color":se(c,s)?W({color:e,theme:s,autoContrast:c}):void 0,"--indicator-size":d(a),"--indicator-radius":r===void 0?void 0:L(r),"--indicator-z-index":l==null?void 0:l.toString(),...ae(t,o)}})),w=D((s,e)=>{const t=N("Indicator",re,s),{classNames:o,className:a,style:r,styles:l,unstyled:c,vars:h,children:p,position:k,offset:j,inline:x,label:y,radius:v,color:i,withBorder:b,disabled:A,processing:E,zIndex:pe,autoContrast:ue,mod:V,...F}=t,C=R({name:"Indicator",classes:$,props:t,className:a,style:r,classNames:o,styles:l,unstyled:c,vars:h,varsResolver:ie});return n.jsxs(u,{ref:e,...C("root"),mod:[{inline:x},V],...F,children:[!A&&n.jsx(u,{mod:{"with-label":!!y,"with-border":b,processing:E},...C("indicator"),children:y}),p]})});w.classes=$;w.displayName="@mantine/core/Indicator";function le({children:s,isValidProp:e,...t}){e&&K(e),t={...m.useContext(P),...t},t.isStatic=H(()=>t.isStatic);const o=m.useMemo(()=>t,[JSON.stringify(t.transition),t.transformPagePoint,t.reducedMotion]);return n.jsx(P.Provider,{value:o,children:s})}const de=m.forwardRef(function(e,t){const{taskIsOpen:o,taskIsMinimized:a,taskIsMaximized:r,taskGetZIndex:l,tasks:c,toggleAppIsVisible:h,closeTask:p}=O(),k=m.useMemo(()=>{let i=0,b=1;return e.alwaysOpened||a(e.appId)?(i=0,b=0):r(e.appId)?i=18:i=6,n.jsx(u,{style:{transition:"all 200ms ease",width:d(i),opacity:b}})},[e.alwaysOpened,e.appId,r,a]),[j,x]=te(!1),y=m.useMemo(()=>{if(o(e.appId)||e.alwaysOpened)return!0},[e.alwaysOpened,e.appId,o]),v=I();return n.jsxs(g,{position:"top",opened:j,onClose:x.close,children:[n.jsx(g.Target,{children:n.jsx(ne,{opened:j?!1:void 0,label:`${e.name}${e.soon===!0?" - PrÃ³ximamente":""}`,children:n.jsxs(w,{size:6,styles:{indicator:{transition:"all 200ms ease",opacity:y?1:0}},color:l(e.appId)===c.length||e.alwaysOpened?void 0:v==="light"?"white.4":"dark.3",label:k,offset:-6,position:"bottom-center",children:[e.iconBg?null:n.jsx(n.Fragment,{children:n.jsx(B,{w:48,h:48,children:n.jsx(q,{styles:{root:{overflow:"hidden"}},pos:"relative",onClick:()=>{h(e.appId),e.appId!=="launcher"&&o("launcher")&&p("launcher")},onContextMenu:i=>{i.preventDefault(),i.stopPropagation(),x.open()},size:"xl",w:48,h:48,variant:"transparent",children:e.iconV2})})}),e.iconBg?n.jsx(n.Fragment,{children:n.jsx(G,{display:"block",w:48,h:48,onClick:()=>{h(e.appId),e.appId!=="launcher"&&o("launcher")&&p("launcher")},onContextMenu:i=>{i.preventDefault(),i.stopPropagation(),x.open()},children:e.iconV2})}):null]})})}),n.jsxs(g.Dropdown,{children:[e.menuContent,n.jsx(g.Item,{disabled:!o(e.appId),leftSection:n.jsx(oe,{width:16,height:16}),onClick:()=>p(e.appId),color:"red",children:"Cerrar"})]})]})});function be(){const s=T(),e=Q(),t=Y(),o=t?0:"xs",a=X(),r=I("dark")==="light"?f(a.colors.white[4],.75):f(a.colors.dark[4],.75),l=I("dark")==="light"?f(a.colors.white[1],.75):f(a.colors.dark[1],.75),c=I("dark")==="light"?f(a.colors.white[9],.75):f(a.colors.dark[9],.75);return n.jsx(B,{p:o,pos:"absolute",bottom:0,left:0,right:0,style:{zIndex:100,pointerEvents:"none"},children:n.jsx(M,{mounted:!0,transition:"slide-up",duration:s.animations?void 0:0,children:h=>n.jsx(u,{style:h,children:n.jsxs(Z,{style:{pointerEvents:"auto",outlineStyle:"solid",outlineWidth:d(1/2),outlineColor:l,transition:s.animations?"all 0.2s ease":"none",backdropFilter:s.transparency&&(e!=null&&e.backdropFilter)?e.backdropFilter:"none",overflow:"hidden",boxShadow:`0px 0px 0px ${d(2/2)} ${c}`},w:t?"100dvw":void 0,radius:t?0:16,bg:r,pb:t?8:0,children:[n.jsx(M,{mounted:s.transparency,duration:s.animations?void 0:0,children:p=>n.jsx(u,{style:{...p,pointerEvents:"none"},pos:"absolute",left:0,top:0,right:0,bottom:0,children:n.jsx(J,{})})}),n.jsx(u,{style:{maskImage:`linear-gradient(to right, transparent, black ${d(8)}, black calc(100% - ${d(8)}), transparent)`},children:n.jsx(ce,{})})]})})})})}function ce(){const s=T(),e=U(),{taskIsOpen:t}=O();return n.jsx(n.Fragment,{children:n.jsx(le,{reducedMotion:s.animations?"user":"always",children:n.jsx(u,{component:S.div,style:{transition:"all 200ms ease",overflow:"hidden",overflowX:"auto",scrollbarWidth:"none",pointerEvents:"auto",maxWidth:"calc(100dvw)",display:"flex",flexDirection:"row",gap:d(8),padding:d(8),justifyContent:"safe center"},children:n.jsx(ee,{mode:"popLayout",presenceAffectsLayout:!0,children:e.sort((o,a)=>o.appId==="launcher"?-1:a.appId==="launcher"?1:0).filter(o=>!!(o.alwaysInTaskbar||t(o.appId))).map(o=>n.jsx(S.div,{layout:!0,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},children:n.jsx(de,{...o})},`taskbar-item-${o.appId}`))})})})})}export{de as IconItem,be as default};
