var Ii=Object.defineProperty;var Mi=(o,s,c)=>s in o?Ii(o,s,{enumerable:!0,configurable:!0,writable:!0,value:c}):o[s]=c;var mo=(o,s,c)=>Mi(o,typeof s!="symbol"?s+"":s,c);import{d as Li,aA as Ui,k as zi,R as Dt,r as gn,aB as Hi,v as Vi,j as fe,B as yr,T as pn,I as mr,e as bo,L as Wi}from"./index-iJOU9LjR.js";import{u as $i,B as Ji}from"./noise-BnVVm7Zg.js";import{u as Gi}from"./useQuery-DPqw8mhH.js";import{u as Xi}from"./use-wallpaper-CgytjVb8.js";/**
 * @license @tabler/icons-react v3.29.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yi=Li("outline","photo-off","IconPhotoOff",[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M7 3h11a3 3 0 0 1 3 3v11m-.856 3.099a2.991 2.991 0 0 1 -2.144 .901h-12a3 3 0 0 1 -3 -3v-12c0 -.845 .349 -1.608 .91 -2.153",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M16.33 12.338c.574 -.054 1.155 .166 1.67 .662l3 3",key:"svg-3"}],["path",{d:"M3 3l18 18",key:"svg-4"}]]);function Ko(o,s){return function(){return o.apply(s,arguments)}}const{toString:Qi}=Object.prototype,{getPrototypeOf:Pr}=Object,En=(o=>s=>{const c=Qi.call(s);return o[c]||(o[c]=c.slice(8,-1).toLowerCase())})(Object.create(null)),Pe=o=>(o=o.toLowerCase(),s=>En(s)===o),On=o=>s=>typeof s===o,{isArray:mt}=Array,Kt=On("undefined");function Zi(o){return o!==null&&!Kt(o)&&o.constructor!==null&&!Kt(o.constructor)&&ke(o.constructor.isBuffer)&&o.constructor.isBuffer(o)}const No=Pe("ArrayBuffer");function es(o){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(o):s=o&&o.buffer&&No(o.buffer),s}const ts=On("string"),ke=On("function"),qo=On("number"),Sn=o=>o!==null&&typeof o=="object",ns=o=>o===!0||o===!1,yn=o=>{if(En(o)!=="object")return!1;const s=Pr(o);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)},rs=Pe("Date"),os=Pe("File"),is=Pe("Blob"),ss=Pe("FileList"),as=o=>Sn(o)&&ke(o.pipe),us=o=>{let s;return o&&(typeof FormData=="function"&&o instanceof FormData||ke(o.append)&&((s=En(o))==="formdata"||s==="object"&&ke(o.toString)&&o.toString()==="[object FormData]"))},cs=Pe("URLSearchParams"),[ls,fs,ds,hs]=["ReadableStream","Request","Response","Headers"].map(Pe),ps=o=>o.trim?o.trim():o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nt(o,s,{allOwnKeys:c=!1}={}){if(o===null||typeof o>"u")return;let u,d;if(typeof o!="object"&&(o=[o]),mt(o))for(u=0,d=o.length;u<d;u++)s.call(null,o[u],u,o);else{const p=c?Object.getOwnPropertyNames(o):Object.keys(o),v=p.length;let P;for(u=0;u<v;u++)P=p[u],s.call(null,o[P],P,o)}}function Fo(o,s){s=s.toLowerCase();const c=Object.keys(o);let u=c.length,d;for(;u-- >0;)if(d=c[u],s===d.toLowerCase())return d;return null}const rt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Io=o=>!Kt(o)&&o!==rt;function _r(){const{caseless:o}=Io(this)&&this||{},s={},c=(u,d)=>{const p=o&&Fo(s,d)||d;yn(s[p])&&yn(u)?s[p]=_r(s[p],u):yn(u)?s[p]=_r({},u):mt(u)?s[p]=u.slice():s[p]=u};for(let u=0,d=arguments.length;u<d;u++)arguments[u]&&Nt(arguments[u],c);return s}const ys=(o,s,c,{allOwnKeys:u}={})=>(Nt(s,(d,p)=>{c&&ke(d)?o[p]=Ko(d,c):o[p]=d},{allOwnKeys:u}),o),ms=o=>(o.charCodeAt(0)===65279&&(o=o.slice(1)),o),bs=(o,s,c,u)=>{o.prototype=Object.create(s.prototype,u),o.prototype.constructor=o,Object.defineProperty(o,"super",{value:s.prototype}),c&&Object.assign(o.prototype,c)},vs=(o,s,c,u)=>{let d,p,v;const P={};if(s=s||{},o==null)return s;do{for(d=Object.getOwnPropertyNames(o),p=d.length;p-- >0;)v=d[p],(!u||u(v,o,s))&&!P[v]&&(s[v]=o[v],P[v]=!0);o=c!==!1&&Pr(o)}while(o&&(!c||c(o,s))&&o!==Object.prototype);return s},gs=(o,s,c)=>{o=String(o),(c===void 0||c>o.length)&&(c=o.length),c-=s.length;const u=o.indexOf(s,c);return u!==-1&&u===c},ws=o=>{if(!o)return null;if(mt(o))return o;let s=o.length;if(!qo(s))return null;const c=new Array(s);for(;s-- >0;)c[s]=o[s];return c},_s=(o=>s=>o&&s instanceof o)(typeof Uint8Array<"u"&&Pr(Uint8Array)),xs=(o,s)=>{const u=(o&&o[Symbol.iterator]).call(o);let d;for(;(d=u.next())&&!d.done;){const p=d.value;s.call(o,p[0],p[1])}},Es=(o,s)=>{let c;const u=[];for(;(c=o.exec(s))!==null;)u.push(c);return u},Os=Pe("HTMLFormElement"),Ss=o=>o.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(c,u,d){return u.toUpperCase()+d}),vo=(({hasOwnProperty:o})=>(s,c)=>o.call(s,c))(Object.prototype),ks=Pe("RegExp"),Mo=(o,s)=>{const c=Object.getOwnPropertyDescriptors(o),u={};Nt(c,(d,p)=>{let v;(v=s(d,p,o))!==!1&&(u[p]=v||d)}),Object.defineProperties(o,u)},Rs=o=>{Mo(o,(s,c)=>{if(ke(o)&&["arguments","caller","callee"].indexOf(c)!==-1)return!1;const u=o[c];if(ke(u)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+c+"'")})}})},Ps=(o,s)=>{const c={},u=d=>{d.forEach(p=>{c[p]=!0})};return mt(o)?u(o):u(String(o).split(s)),c},As=()=>{},Ts=(o,s)=>o!=null&&Number.isFinite(o=+o)?o:s,br="abcdefghijklmnopqrstuvwxyz",go="0123456789",Lo={DIGIT:go,ALPHA:br,ALPHA_DIGIT:br+br.toUpperCase()+go},Cs=(o=16,s=Lo.ALPHA_DIGIT)=>{let c="";const{length:u}=s;for(;o--;)c+=s[Math.random()*u|0];return c};function js(o){return!!(o&&ke(o.append)&&o[Symbol.toStringTag]==="FormData"&&o[Symbol.iterator])}const Ds=o=>{const s=new Array(10),c=(u,d)=>{if(Sn(u)){if(s.indexOf(u)>=0)return;if(!("toJSON"in u)){s[d]=u;const p=mt(u)?[]:{};return Nt(u,(v,P)=>{const I=c(v,d+1);!Kt(I)&&(p[P]=I)}),s[d]=void 0,p}}return u};return c(o,0)},Bs=Pe("AsyncFunction"),Ks=o=>o&&(Sn(o)||ke(o))&&ke(o.then)&&ke(o.catch),Uo=((o,s)=>o?setImmediate:s?((c,u)=>(rt.addEventListener("message",({source:d,data:p})=>{d===rt&&p===c&&u.length&&u.shift()()},!1),d=>{u.push(d),rt.postMessage(c,"*")}))(`axios@${Math.random()}`,[]):c=>setTimeout(c))(typeof setImmediate=="function",ke(rt.postMessage)),Ns=typeof queueMicrotask<"u"?queueMicrotask.bind(rt):typeof process<"u"&&process.nextTick||Uo,R={isArray:mt,isArrayBuffer:No,isBuffer:Zi,isFormData:us,isArrayBufferView:es,isString:ts,isNumber:qo,isBoolean:ns,isObject:Sn,isPlainObject:yn,isReadableStream:ls,isRequest:fs,isResponse:ds,isHeaders:hs,isUndefined:Kt,isDate:rs,isFile:os,isBlob:is,isRegExp:ks,isFunction:ke,isStream:as,isURLSearchParams:cs,isTypedArray:_s,isFileList:ss,forEach:Nt,merge:_r,extend:ys,trim:ps,stripBOM:ms,inherits:bs,toFlatObject:vs,kindOf:En,kindOfTest:Pe,endsWith:gs,toArray:ws,forEachEntry:xs,matchAll:Es,isHTMLForm:Os,hasOwnProperty:vo,hasOwnProp:vo,reduceDescriptors:Mo,freezeMethods:Rs,toObjectSet:Ps,toCamelCase:Ss,noop:As,toFiniteNumber:Ts,findKey:Fo,global:rt,isContextDefined:Io,ALPHABET:Lo,generateString:Cs,isSpecCompliantForm:js,toJSONObject:Ds,isAsyncFn:Bs,isThenable:Ks,setImmediate:Uo,asap:Ns};function G(o,s,c,u,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=o,this.name="AxiosError",s&&(this.code=s),c&&(this.config=c),u&&(this.request=u),d&&(this.response=d,this.status=d.status?d.status:null)}R.inherits(G,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:R.toJSONObject(this.config),code:this.code,status:this.status}}});const zo=G.prototype,Ho={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(o=>{Ho[o]={value:o}});Object.defineProperties(G,Ho);Object.defineProperty(zo,"isAxiosError",{value:!0});G.from=(o,s,c,u,d,p)=>{const v=Object.create(zo);return R.toFlatObject(o,v,function(I){return I!==Error.prototype},P=>P!=="isAxiosError"),G.call(v,o.message,s,c,u,d),v.cause=o,v.name=o.name,p&&Object.assign(v,p),v};const qs=null;function xr(o){return R.isPlainObject(o)||R.isArray(o)}function Vo(o){return R.endsWith(o,"[]")?o.slice(0,-2):o}function wo(o,s,c){return o?o.concat(s).map(function(d,p){return d=Vo(d),!c&&p?"["+d+"]":d}).join(c?".":""):s}function Fs(o){return R.isArray(o)&&!o.some(xr)}const Is=R.toFlatObject(R,{},null,function(s){return/^is[A-Z]/.test(s)});function kn(o,s,c){if(!R.isObject(o))throw new TypeError("target must be an object");s=s||new FormData,c=R.toFlatObject(c,{metaTokens:!0,dots:!1,indexes:!1},!1,function(W,H){return!R.isUndefined(H[W])});const u=c.metaTokens,d=c.visitor||D,p=c.dots,v=c.indexes,I=(c.Blob||typeof Blob<"u"&&Blob)&&R.isSpecCompliantForm(s);if(!R.isFunction(d))throw new TypeError("visitor must be a function");function T(U){if(U===null)return"";if(R.isDate(U))return U.toISOString();if(!I&&R.isBlob(U))throw new G("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(U)||R.isTypedArray(U)?I&&typeof Blob=="function"?new Blob([U]):Buffer.from(U):U}function D(U,W,H){let ie=U;if(U&&!H&&typeof U=="object"){if(R.endsWith(W,"{}"))W=u?W:W.slice(0,-2),U=JSON.stringify(U);else if(R.isArray(U)&&Fs(U)||(R.isFileList(U)||R.endsWith(W,"[]"))&&(ie=R.toArray(U)))return W=Vo(W),ie.forEach(function(ae,_e){!(R.isUndefined(ae)||ae===null)&&s.append(v===!0?wo([W],_e,p):v===null?W:W+"[]",T(ae))}),!1}return xr(U)?!0:(s.append(wo(H,W,p),T(U)),!1)}const q=[],Z=Object.assign(Is,{defaultVisitor:D,convertValue:T,isVisitable:xr});function se(U,W){if(!R.isUndefined(U)){if(q.indexOf(U)!==-1)throw Error("Circular reference detected in "+W.join("."));q.push(U),R.forEach(U,function(ie,re){(!(R.isUndefined(ie)||ie===null)&&d.call(s,ie,R.isString(re)?re.trim():re,W,Z))===!0&&se(ie,W?W.concat(re):[re])}),q.pop()}}if(!R.isObject(o))throw new TypeError("data must be an object");return se(o),s}function _o(o){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(o).replace(/[!'()~]|%20|%00/g,function(u){return s[u]})}function Ar(o,s){this._pairs=[],o&&kn(o,this,s)}const Wo=Ar.prototype;Wo.append=function(s,c){this._pairs.push([s,c])};Wo.toString=function(s){const c=s?function(u){return s.call(this,u,_o)}:_o;return this._pairs.map(function(d){return c(d[0])+"="+c(d[1])},"").join("&")};function Ms(o){return encodeURIComponent(o).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $o(o,s,c){if(!s)return o;const u=c&&c.encode||Ms;R.isFunction(c)&&(c={serialize:c});const d=c&&c.serialize;let p;if(d?p=d(s,c):p=R.isURLSearchParams(s)?s.toString():new Ar(s,c).toString(u),p){const v=o.indexOf("#");v!==-1&&(o=o.slice(0,v)),o+=(o.indexOf("?")===-1?"?":"&")+p}return o}class xo{constructor(){this.handlers=[]}use(s,c,u){return this.handlers.push({fulfilled:s,rejected:c,synchronous:u?u.synchronous:!1,runWhen:u?u.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){R.forEach(this.handlers,function(u){u!==null&&s(u)})}}const Jo={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ls=typeof URLSearchParams<"u"?URLSearchParams:Ar,Us=typeof FormData<"u"?FormData:null,zs=typeof Blob<"u"?Blob:null,Hs={isBrowser:!0,classes:{URLSearchParams:Ls,FormData:Us,Blob:zs},protocols:["http","https","file","blob","url","data"]},Tr=typeof window<"u"&&typeof document<"u",Er=typeof navigator=="object"&&navigator||void 0,Vs=Tr&&(!Er||["ReactNative","NativeScript","NS"].indexOf(Er.product)<0),Ws=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$s=Tr&&window.location.href||"http://localhost",Js=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Tr,hasStandardBrowserEnv:Vs,hasStandardBrowserWebWorkerEnv:Ws,navigator:Er,origin:$s},Symbol.toStringTag,{value:"Module"})),we={...Js,...Hs};function Gs(o,s){return kn(o,new we.classes.URLSearchParams,Object.assign({visitor:function(c,u,d,p){return we.isNode&&R.isBuffer(c)?(this.append(u,c.toString("base64")),!1):p.defaultVisitor.apply(this,arguments)}},s))}function Xs(o){return R.matchAll(/\w+|\[(\w*)]/g,o).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Ys(o){const s={},c=Object.keys(o);let u;const d=c.length;let p;for(u=0;u<d;u++)p=c[u],s[p]=o[p];return s}function Go(o){function s(c,u,d,p){let v=c[p++];if(v==="__proto__")return!0;const P=Number.isFinite(+v),I=p>=c.length;return v=!v&&R.isArray(d)?d.length:v,I?(R.hasOwnProp(d,v)?d[v]=[d[v],u]:d[v]=u,!P):((!d[v]||!R.isObject(d[v]))&&(d[v]=[]),s(c,u,d[v],p)&&R.isArray(d[v])&&(d[v]=Ys(d[v])),!P)}if(R.isFormData(o)&&R.isFunction(o.entries)){const c={};return R.forEachEntry(o,(u,d)=>{s(Xs(u),d,c,0)}),c}return null}function Qs(o,s,c){if(R.isString(o))try{return(s||JSON.parse)(o),R.trim(o)}catch(u){if(u.name!=="SyntaxError")throw u}return(0,JSON.stringify)(o)}const qt={transitional:Jo,adapter:["xhr","http","fetch"],transformRequest:[function(s,c){const u=c.getContentType()||"",d=u.indexOf("application/json")>-1,p=R.isObject(s);if(p&&R.isHTMLForm(s)&&(s=new FormData(s)),R.isFormData(s))return d?JSON.stringify(Go(s)):s;if(R.isArrayBuffer(s)||R.isBuffer(s)||R.isStream(s)||R.isFile(s)||R.isBlob(s)||R.isReadableStream(s))return s;if(R.isArrayBufferView(s))return s.buffer;if(R.isURLSearchParams(s))return c.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let P;if(p){if(u.indexOf("application/x-www-form-urlencoded")>-1)return Gs(s,this.formSerializer).toString();if((P=R.isFileList(s))||u.indexOf("multipart/form-data")>-1){const I=this.env&&this.env.FormData;return kn(P?{"files[]":s}:s,I&&new I,this.formSerializer)}}return p||d?(c.setContentType("application/json",!1),Qs(s)):s}],transformResponse:[function(s){const c=this.transitional||qt.transitional,u=c&&c.forcedJSONParsing,d=this.responseType==="json";if(R.isResponse(s)||R.isReadableStream(s))return s;if(s&&R.isString(s)&&(u&&!this.responseType||d)){const v=!(c&&c.silentJSONParsing)&&d;try{return JSON.parse(s)}catch(P){if(v)throw P.name==="SyntaxError"?G.from(P,G.ERR_BAD_RESPONSE,this,null,this.response):P}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:we.classes.FormData,Blob:we.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};R.forEach(["delete","get","head","post","put","patch"],o=>{qt.headers[o]={}});const Zs=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ea=o=>{const s={};let c,u,d;return o&&o.split(`
`).forEach(function(v){d=v.indexOf(":"),c=v.substring(0,d).trim().toLowerCase(),u=v.substring(d+1).trim(),!(!c||s[c]&&Zs[c])&&(c==="set-cookie"?s[c]?s[c].push(u):s[c]=[u]:s[c]=s[c]?s[c]+", "+u:u)}),s},Eo=Symbol("internals");function Bt(o){return o&&String(o).trim().toLowerCase()}function mn(o){return o===!1||o==null?o:R.isArray(o)?o.map(mn):String(o)}function ta(o){const s=Object.create(null),c=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let u;for(;u=c.exec(o);)s[u[1]]=u[2];return s}const na=o=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(o.trim());function vr(o,s,c,u,d){if(R.isFunction(u))return u.call(this,s,c);if(d&&(s=c),!!R.isString(s)){if(R.isString(u))return s.indexOf(u)!==-1;if(R.isRegExp(u))return u.test(s)}}function ra(o){return o.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,c,u)=>c.toUpperCase()+u)}function oa(o,s){const c=R.toCamelCase(" "+s);["get","set","has"].forEach(u=>{Object.defineProperty(o,u+c,{value:function(d,p,v){return this[u].call(this,s,d,p,v)},configurable:!0})})}class Ee{constructor(s){s&&this.set(s)}set(s,c,u){const d=this;function p(P,I,T){const D=Bt(I);if(!D)throw new Error("header name must be a non-empty string");const q=R.findKey(d,D);(!q||d[q]===void 0||T===!0||T===void 0&&d[q]!==!1)&&(d[q||I]=mn(P))}const v=(P,I)=>R.forEach(P,(T,D)=>p(T,D,I));if(R.isPlainObject(s)||s instanceof this.constructor)v(s,c);else if(R.isString(s)&&(s=s.trim())&&!na(s))v(ea(s),c);else if(R.isHeaders(s))for(const[P,I]of s.entries())p(I,P,u);else s!=null&&p(c,s,u);return this}get(s,c){if(s=Bt(s),s){const u=R.findKey(this,s);if(u){const d=this[u];if(!c)return d;if(c===!0)return ta(d);if(R.isFunction(c))return c.call(this,d,u);if(R.isRegExp(c))return c.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,c){if(s=Bt(s),s){const u=R.findKey(this,s);return!!(u&&this[u]!==void 0&&(!c||vr(this,this[u],u,c)))}return!1}delete(s,c){const u=this;let d=!1;function p(v){if(v=Bt(v),v){const P=R.findKey(u,v);P&&(!c||vr(u,u[P],P,c))&&(delete u[P],d=!0)}}return R.isArray(s)?s.forEach(p):p(s),d}clear(s){const c=Object.keys(this);let u=c.length,d=!1;for(;u--;){const p=c[u];(!s||vr(this,this[p],p,s,!0))&&(delete this[p],d=!0)}return d}normalize(s){const c=this,u={};return R.forEach(this,(d,p)=>{const v=R.findKey(u,p);if(v){c[v]=mn(d),delete c[p];return}const P=s?ra(p):String(p).trim();P!==p&&delete c[p],c[P]=mn(d),u[P]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const c=Object.create(null);return R.forEach(this,(u,d)=>{u!=null&&u!==!1&&(c[d]=s&&R.isArray(u)?u.join(", "):u)}),c}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,c])=>s+": "+c).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...c){const u=new this(s);return c.forEach(d=>u.set(d)),u}static accessor(s){const u=(this[Eo]=this[Eo]={accessors:{}}).accessors,d=this.prototype;function p(v){const P=Bt(v);u[P]||(oa(d,v),u[P]=!0)}return R.isArray(s)?s.forEach(p):p(s),this}}Ee.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);R.reduceDescriptors(Ee.prototype,({value:o},s)=>{let c=s[0].toUpperCase()+s.slice(1);return{get:()=>o,set(u){this[c]=u}}});R.freezeMethods(Ee);function gr(o,s){const c=this||qt,u=s||c,d=Ee.from(u.headers);let p=u.data;return R.forEach(o,function(P){p=P.call(c,p,d.normalize(),s?s.status:void 0)}),d.normalize(),p}function Xo(o){return!!(o&&o.__CANCEL__)}function bt(o,s,c){G.call(this,o??"canceled",G.ERR_CANCELED,s,c),this.name="CanceledError"}R.inherits(bt,G,{__CANCEL__:!0});function Yo(o,s,c){const u=c.config.validateStatus;!c.status||!u||u(c.status)?o(c):s(new G("Request failed with status code "+c.status,[G.ERR_BAD_REQUEST,G.ERR_BAD_RESPONSE][Math.floor(c.status/100)-4],c.config,c.request,c))}function ia(o){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(o);return s&&s[1]||""}function sa(o,s){o=o||10;const c=new Array(o),u=new Array(o);let d=0,p=0,v;return s=s!==void 0?s:1e3,function(I){const T=Date.now(),D=u[p];v||(v=T),c[d]=I,u[d]=T;let q=p,Z=0;for(;q!==d;)Z+=c[q++],q=q%o;if(d=(d+1)%o,d===p&&(p=(p+1)%o),T-v<s)return;const se=D&&T-D;return se?Math.round(Z*1e3/se):void 0}}function aa(o,s){let c=0,u=1e3/s,d,p;const v=(T,D=Date.now())=>{c=D,d=null,p&&(clearTimeout(p),p=null),o.apply(null,T)};return[(...T)=>{const D=Date.now(),q=D-c;q>=u?v(T,D):(d=T,p||(p=setTimeout(()=>{p=null,v(d)},u-q)))},()=>d&&v(d)]}const wn=(o,s,c=3)=>{let u=0;const d=sa(50,250);return aa(p=>{const v=p.loaded,P=p.lengthComputable?p.total:void 0,I=v-u,T=d(I),D=v<=P;u=v;const q={loaded:v,total:P,progress:P?v/P:void 0,bytes:I,rate:T||void 0,estimated:T&&P&&D?(P-v)/T:void 0,event:p,lengthComputable:P!=null,[s?"download":"upload"]:!0};o(q)},c)},Oo=(o,s)=>{const c=o!=null;return[u=>s[0]({lengthComputable:c,total:o,loaded:u}),s[1]]},So=o=>(...s)=>R.asap(()=>o(...s)),ua=we.hasStandardBrowserEnv?((o,s)=>c=>(c=new URL(c,we.origin),o.protocol===c.protocol&&o.host===c.host&&(s||o.port===c.port)))(new URL(we.origin),we.navigator&&/(msie|trident)/i.test(we.navigator.userAgent)):()=>!0,ca=we.hasStandardBrowserEnv?{write(o,s,c,u,d,p){const v=[o+"="+encodeURIComponent(s)];R.isNumber(c)&&v.push("expires="+new Date(c).toGMTString()),R.isString(u)&&v.push("path="+u),R.isString(d)&&v.push("domain="+d),p===!0&&v.push("secure"),document.cookie=v.join("; ")},read(o){const s=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(o){this.write(o,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function la(o){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(o)}function fa(o,s){return s?o.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):o}function Qo(o,s){return o&&!la(s)?fa(o,s):s}const ko=o=>o instanceof Ee?{...o}:o;function it(o,s){s=s||{};const c={};function u(T,D,q,Z){return R.isPlainObject(T)&&R.isPlainObject(D)?R.merge.call({caseless:Z},T,D):R.isPlainObject(D)?R.merge({},D):R.isArray(D)?D.slice():D}function d(T,D,q,Z){if(R.isUndefined(D)){if(!R.isUndefined(T))return u(void 0,T,q,Z)}else return u(T,D,q,Z)}function p(T,D){if(!R.isUndefined(D))return u(void 0,D)}function v(T,D){if(R.isUndefined(D)){if(!R.isUndefined(T))return u(void 0,T)}else return u(void 0,D)}function P(T,D,q){if(q in s)return u(T,D);if(q in o)return u(void 0,T)}const I={url:p,method:p,data:p,baseURL:v,transformRequest:v,transformResponse:v,paramsSerializer:v,timeout:v,timeoutMessage:v,withCredentials:v,withXSRFToken:v,adapter:v,responseType:v,xsrfCookieName:v,xsrfHeaderName:v,onUploadProgress:v,onDownloadProgress:v,decompress:v,maxContentLength:v,maxBodyLength:v,beforeRedirect:v,transport:v,httpAgent:v,httpsAgent:v,cancelToken:v,socketPath:v,responseEncoding:v,validateStatus:P,headers:(T,D,q)=>d(ko(T),ko(D),q,!0)};return R.forEach(Object.keys(Object.assign({},o,s)),function(D){const q=I[D]||d,Z=q(o[D],s[D],D);R.isUndefined(Z)&&q!==P||(c[D]=Z)}),c}const Zo=o=>{const s=it({},o);let{data:c,withXSRFToken:u,xsrfHeaderName:d,xsrfCookieName:p,headers:v,auth:P}=s;s.headers=v=Ee.from(v),s.url=$o(Qo(s.baseURL,s.url),o.params,o.paramsSerializer),P&&v.set("Authorization","Basic "+btoa((P.username||"")+":"+(P.password?unescape(encodeURIComponent(P.password)):"")));let I;if(R.isFormData(c)){if(we.hasStandardBrowserEnv||we.hasStandardBrowserWebWorkerEnv)v.setContentType(void 0);else if((I=v.getContentType())!==!1){const[T,...D]=I?I.split(";").map(q=>q.trim()).filter(Boolean):[];v.setContentType([T||"multipart/form-data",...D].join("; "))}}if(we.hasStandardBrowserEnv&&(u&&R.isFunction(u)&&(u=u(s)),u||u!==!1&&ua(s.url))){const T=d&&p&&ca.read(p);T&&v.set(d,T)}return s},da=typeof XMLHttpRequest<"u",ha=da&&function(o){return new Promise(function(c,u){const d=Zo(o);let p=d.data;const v=Ee.from(d.headers).normalize();let{responseType:P,onUploadProgress:I,onDownloadProgress:T}=d,D,q,Z,se,U;function W(){se&&se(),U&&U(),d.cancelToken&&d.cancelToken.unsubscribe(D),d.signal&&d.signal.removeEventListener("abort",D)}let H=new XMLHttpRequest;H.open(d.method.toUpperCase(),d.url,!0),H.timeout=d.timeout;function ie(){if(!H)return;const ae=Ee.from("getAllResponseHeaders"in H&&H.getAllResponseHeaders()),me={data:!P||P==="text"||P==="json"?H.responseText:H.response,status:H.status,statusText:H.statusText,headers:ae,config:o,request:H};Yo(function(ue){c(ue),W()},function(ue){u(ue),W()},me),H=null}"onloadend"in H?H.onloadend=ie:H.onreadystatechange=function(){!H||H.readyState!==4||H.status===0&&!(H.responseURL&&H.responseURL.indexOf("file:")===0)||setTimeout(ie)},H.onabort=function(){H&&(u(new G("Request aborted",G.ECONNABORTED,o,H)),H=null)},H.onerror=function(){u(new G("Network Error",G.ERR_NETWORK,o,H)),H=null},H.ontimeout=function(){let _e=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const me=d.transitional||Jo;d.timeoutErrorMessage&&(_e=d.timeoutErrorMessage),u(new G(_e,me.clarifyTimeoutError?G.ETIMEDOUT:G.ECONNABORTED,o,H)),H=null},p===void 0&&v.setContentType(null),"setRequestHeader"in H&&R.forEach(v.toJSON(),function(_e,me){H.setRequestHeader(me,_e)}),R.isUndefined(d.withCredentials)||(H.withCredentials=!!d.withCredentials),P&&P!=="json"&&(H.responseType=d.responseType),T&&([Z,U]=wn(T,!0),H.addEventListener("progress",Z)),I&&H.upload&&([q,se]=wn(I),H.upload.addEventListener("progress",q),H.upload.addEventListener("loadend",se)),(d.cancelToken||d.signal)&&(D=ae=>{H&&(u(!ae||ae.type?new bt(null,o,H):ae),H.abort(),H=null)},d.cancelToken&&d.cancelToken.subscribe(D),d.signal&&(d.signal.aborted?D():d.signal.addEventListener("abort",D)));const re=ia(d.url);if(re&&we.protocols.indexOf(re)===-1){u(new G("Unsupported protocol "+re+":",G.ERR_BAD_REQUEST,o));return}H.send(p||null)})},pa=(o,s)=>{const{length:c}=o=o?o.filter(Boolean):[];if(s||c){let u=new AbortController,d;const p=function(T){if(!d){d=!0,P();const D=T instanceof Error?T:this.reason;u.abort(D instanceof G?D:new bt(D instanceof Error?D.message:D))}};let v=s&&setTimeout(()=>{v=null,p(new G(`timeout ${s} of ms exceeded`,G.ETIMEDOUT))},s);const P=()=>{o&&(v&&clearTimeout(v),v=null,o.forEach(T=>{T.unsubscribe?T.unsubscribe(p):T.removeEventListener("abort",p)}),o=null)};o.forEach(T=>T.addEventListener("abort",p));const{signal:I}=u;return I.unsubscribe=()=>R.asap(P),I}},ya=function*(o,s){let c=o.byteLength;if(c<s){yield o;return}let u=0,d;for(;u<c;)d=u+s,yield o.slice(u,d),u=d},ma=async function*(o,s){for await(const c of ba(o))yield*ya(c,s)},ba=async function*(o){if(o[Symbol.asyncIterator]){yield*o;return}const s=o.getReader();try{for(;;){const{done:c,value:u}=await s.read();if(c)break;yield u}}finally{await s.cancel()}},Ro=(o,s,c,u)=>{const d=ma(o,s);let p=0,v,P=I=>{v||(v=!0,u&&u(I))};return new ReadableStream({async pull(I){try{const{done:T,value:D}=await d.next();if(T){P(),I.close();return}let q=D.byteLength;if(c){let Z=p+=q;c(Z)}I.enqueue(new Uint8Array(D))}catch(T){throw P(T),T}},cancel(I){return P(I),d.return()}},{highWaterMark:2})},Rn=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ei=Rn&&typeof ReadableStream=="function",va=Rn&&(typeof TextEncoder=="function"?(o=>s=>o.encode(s))(new TextEncoder):async o=>new Uint8Array(await new Response(o).arrayBuffer())),ti=(o,...s)=>{try{return!!o(...s)}catch{return!1}},ga=ei&&ti(()=>{let o=!1;const s=new Request(we.origin,{body:new ReadableStream,method:"POST",get duplex(){return o=!0,"half"}}).headers.has("Content-Type");return o&&!s}),Po=64*1024,Or=ei&&ti(()=>R.isReadableStream(new Response("").body)),_n={stream:Or&&(o=>o.body)};Rn&&(o=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!_n[s]&&(_n[s]=R.isFunction(o[s])?c=>c[s]():(c,u)=>{throw new G(`Response type '${s}' is not supported`,G.ERR_NOT_SUPPORT,u)})})})(new Response);const wa=async o=>{if(o==null)return 0;if(R.isBlob(o))return o.size;if(R.isSpecCompliantForm(o))return(await new Request(we.origin,{method:"POST",body:o}).arrayBuffer()).byteLength;if(R.isArrayBufferView(o)||R.isArrayBuffer(o))return o.byteLength;if(R.isURLSearchParams(o)&&(o=o+""),R.isString(o))return(await va(o)).byteLength},_a=async(o,s)=>{const c=R.toFiniteNumber(o.getContentLength());return c??wa(s)},xa=Rn&&(async o=>{let{url:s,method:c,data:u,signal:d,cancelToken:p,timeout:v,onDownloadProgress:P,onUploadProgress:I,responseType:T,headers:D,withCredentials:q="same-origin",fetchOptions:Z}=Zo(o);T=T?(T+"").toLowerCase():"text";let se=pa([d,p&&p.toAbortSignal()],v),U;const W=se&&se.unsubscribe&&(()=>{se.unsubscribe()});let H;try{if(I&&ga&&c!=="get"&&c!=="head"&&(H=await _a(D,u))!==0){let me=new Request(s,{method:"POST",body:u,duplex:"half"}),he;if(R.isFormData(u)&&(he=me.headers.get("content-type"))&&D.setContentType(he),me.body){const[ue,ze]=Oo(H,wn(So(I)));u=Ro(me.body,Po,ue,ze)}}R.isString(q)||(q=q?"include":"omit");const ie="credentials"in Request.prototype;U=new Request(s,{...Z,signal:se,method:c.toUpperCase(),headers:D.normalize().toJSON(),body:u,duplex:"half",credentials:ie?q:void 0});let re=await fetch(U);const ae=Or&&(T==="stream"||T==="response");if(Or&&(P||ae&&W)){const me={};["status","statusText","headers"].forEach(Ft=>{me[Ft]=re[Ft]});const he=R.toFiniteNumber(re.headers.get("content-length")),[ue,ze]=P&&Oo(he,wn(So(P),!0))||[];re=new Response(Ro(re.body,Po,ue,()=>{ze&&ze(),W&&W()}),me)}T=T||"text";let _e=await _n[R.findKey(_n,T)||"text"](re,o);return!ae&&W&&W(),await new Promise((me,he)=>{Yo(me,he,{data:_e,headers:Ee.from(re.headers),status:re.status,statusText:re.statusText,config:o,request:U})})}catch(ie){throw W&&W(),ie&&ie.name==="TypeError"&&/fetch/i.test(ie.message)?Object.assign(new G("Network Error",G.ERR_NETWORK,o,U),{cause:ie.cause||ie}):G.from(ie,ie&&ie.code,o,U)}}),Sr={http:qs,xhr:ha,fetch:xa};R.forEach(Sr,(o,s)=>{if(o){try{Object.defineProperty(o,"name",{value:s})}catch{}Object.defineProperty(o,"adapterName",{value:s})}});const Ao=o=>`- ${o}`,Ea=o=>R.isFunction(o)||o===null||o===!1,ni={getAdapter:o=>{o=R.isArray(o)?o:[o];const{length:s}=o;let c,u;const d={};for(let p=0;p<s;p++){c=o[p];let v;if(u=c,!Ea(c)&&(u=Sr[(v=String(c)).toLowerCase()],u===void 0))throw new G(`Unknown adapter '${v}'`);if(u)break;d[v||"#"+p]=u}if(!u){const p=Object.entries(d).map(([P,I])=>`adapter ${P} `+(I===!1?"is not supported by the environment":"is not available in the build"));let v=s?p.length>1?`since :
`+p.map(Ao).join(`
`):" "+Ao(p[0]):"as no adapter specified";throw new G("There is no suitable adapter to dispatch the request "+v,"ERR_NOT_SUPPORT")}return u},adapters:Sr};function wr(o){if(o.cancelToken&&o.cancelToken.throwIfRequested(),o.signal&&o.signal.aborted)throw new bt(null,o)}function To(o){return wr(o),o.headers=Ee.from(o.headers),o.data=gr.call(o,o.transformRequest),["post","put","patch"].indexOf(o.method)!==-1&&o.headers.setContentType("application/x-www-form-urlencoded",!1),ni.getAdapter(o.adapter||qt.adapter)(o).then(function(u){return wr(o),u.data=gr.call(o,o.transformResponse,u),u.headers=Ee.from(u.headers),u},function(u){return Xo(u)||(wr(o),u&&u.response&&(u.response.data=gr.call(o,o.transformResponse,u.response),u.response.headers=Ee.from(u.response.headers))),Promise.reject(u)})}const ri="1.7.9",Pn={};["object","boolean","number","function","string","symbol"].forEach((o,s)=>{Pn[o]=function(u){return typeof u===o||"a"+(s<1?"n ":" ")+o}});const Co={};Pn.transitional=function(s,c,u){function d(p,v){return"[Axios v"+ri+"] Transitional option '"+p+"'"+v+(u?". "+u:"")}return(p,v,P)=>{if(s===!1)throw new G(d(v," has been removed"+(c?" in "+c:"")),G.ERR_DEPRECATED);return c&&!Co[v]&&(Co[v]=!0,console.warn(d(v," has been deprecated since v"+c+" and will be removed in the near future"))),s?s(p,v,P):!0}};Pn.spelling=function(s){return(c,u)=>(console.warn(`${u} is likely a misspelling of ${s}`),!0)};function Oa(o,s,c){if(typeof o!="object")throw new G("options must be an object",G.ERR_BAD_OPTION_VALUE);const u=Object.keys(o);let d=u.length;for(;d-- >0;){const p=u[d],v=s[p];if(v){const P=o[p],I=P===void 0||v(P,p,o);if(I!==!0)throw new G("option "+p+" must be "+I,G.ERR_BAD_OPTION_VALUE);continue}if(c!==!0)throw new G("Unknown option "+p,G.ERR_BAD_OPTION)}}const bn={assertOptions:Oa,validators:Pn},je=bn.validators;class ot{constructor(s){this.defaults=s,this.interceptors={request:new xo,response:new xo}}async request(s,c){try{return await this._request(s,c)}catch(u){if(u instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const p=d.stack?d.stack.replace(/^.+\n/,""):"";try{u.stack?p&&!String(u.stack).endsWith(p.replace(/^.+\n.+\n/,""))&&(u.stack+=`
`+p):u.stack=p}catch{}}throw u}}_request(s,c){typeof s=="string"?(c=c||{},c.url=s):c=s||{},c=it(this.defaults,c);const{transitional:u,paramsSerializer:d,headers:p}=c;u!==void 0&&bn.assertOptions(u,{silentJSONParsing:je.transitional(je.boolean),forcedJSONParsing:je.transitional(je.boolean),clarifyTimeoutError:je.transitional(je.boolean)},!1),d!=null&&(R.isFunction(d)?c.paramsSerializer={serialize:d}:bn.assertOptions(d,{encode:je.function,serialize:je.function},!0)),bn.assertOptions(c,{baseUrl:je.spelling("baseURL"),withXsrfToken:je.spelling("withXSRFToken")},!0),c.method=(c.method||this.defaults.method||"get").toLowerCase();let v=p&&R.merge(p.common,p[c.method]);p&&R.forEach(["delete","get","head","post","put","patch","common"],U=>{delete p[U]}),c.headers=Ee.concat(v,p);const P=[];let I=!0;this.interceptors.request.forEach(function(W){typeof W.runWhen=="function"&&W.runWhen(c)===!1||(I=I&&W.synchronous,P.unshift(W.fulfilled,W.rejected))});const T=[];this.interceptors.response.forEach(function(W){T.push(W.fulfilled,W.rejected)});let D,q=0,Z;if(!I){const U=[To.bind(this),void 0];for(U.unshift.apply(U,P),U.push.apply(U,T),Z=U.length,D=Promise.resolve(c);q<Z;)D=D.then(U[q++],U[q++]);return D}Z=P.length;let se=c;for(q=0;q<Z;){const U=P[q++],W=P[q++];try{se=U(se)}catch(H){W.call(this,H);break}}try{D=To.call(this,se)}catch(U){return Promise.reject(U)}for(q=0,Z=T.length;q<Z;)D=D.then(T[q++],T[q++]);return D}getUri(s){s=it(this.defaults,s);const c=Qo(s.baseURL,s.url);return $o(c,s.params,s.paramsSerializer)}}R.forEach(["delete","get","head","options"],function(s){ot.prototype[s]=function(c,u){return this.request(it(u||{},{method:s,url:c,data:(u||{}).data}))}});R.forEach(["post","put","patch"],function(s){function c(u){return function(p,v,P){return this.request(it(P||{},{method:s,headers:u?{"Content-Type":"multipart/form-data"}:{},url:p,data:v}))}}ot.prototype[s]=c(),ot.prototype[s+"Form"]=c(!0)});class Cr{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let c;this.promise=new Promise(function(p){c=p});const u=this;this.promise.then(d=>{if(!u._listeners)return;let p=u._listeners.length;for(;p-- >0;)u._listeners[p](d);u._listeners=null}),this.promise.then=d=>{let p;const v=new Promise(P=>{u.subscribe(P),p=P}).then(d);return v.cancel=function(){u.unsubscribe(p)},v},s(function(p,v,P){u.reason||(u.reason=new bt(p,v,P),c(u.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const c=this._listeners.indexOf(s);c!==-1&&this._listeners.splice(c,1)}toAbortSignal(){const s=new AbortController,c=u=>{s.abort(u)};return this.subscribe(c),s.signal.unsubscribe=()=>this.unsubscribe(c),s.signal}static source(){let s;return{token:new Cr(function(d){s=d}),cancel:s}}}function Sa(o){return function(c){return o.apply(null,c)}}function ka(o){return R.isObject(o)&&o.isAxiosError===!0}const kr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(kr).forEach(([o,s])=>{kr[s]=o});function oi(o){const s=new ot(o),c=Ko(ot.prototype.request,s);return R.extend(c,ot.prototype,s,{allOwnKeys:!0}),R.extend(c,s,null,{allOwnKeys:!0}),c.create=function(d){return oi(it(o,d))},c}const de=oi(qt);de.Axios=ot;de.CanceledError=bt;de.CancelToken=Cr;de.isCancel=Xo;de.VERSION=ri;de.toFormData=kn;de.AxiosError=G;de.Cancel=de.CanceledError;de.all=function(s){return Promise.all(s)};de.spread=Sa;de.isAxiosError=ka;de.mergeConfig=it;de.AxiosHeaders=Ee;de.formToJSON=o=>Go(R.isHTMLForm(o)?new FormData(o):o);de.getAdapter=ni.getAdapter;de.HttpStatusCode=kr;de.default=de;var vn={exports:{}},Ra=vn.exports,jo;function Pa(){return jo||(jo=1,function(o,s){(function(c,u){o.exports=u()})(Ra,function(){var c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])})(e,t)},u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function d(e,t,n){for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||((r=r||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var p=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ui,v=Object.keys,P=Array.isArray;function I(e,t){return typeof t!="object"||v(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||p.Promise||(p.Promise=Promise);var T=Object.getPrototypeOf,D={}.hasOwnProperty;function q(e,t){return D.call(e,t)}function Z(e,t){typeof t=="function"&&(t=t(T(e))),(typeof Reflect>"u"?v:Reflect.ownKeys)(t).forEach(function(n){U(e,n,t[n])})}var se=Object.defineProperty;function U(e,t,n,r){se(e,t,I(n&&q(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function W(e){return{from:function(t){return e.prototype=Object.create(t.prototype),U(e.prototype,"constructor",e),{extend:Z.bind(null,e.prototype)}}}}var H=Object.getOwnPropertyDescriptor,ie=[].slice;function re(e,t,n){return ie.call(e,t,n)}function ae(e,t){return t(e)}function _e(e){if(!e)throw new Error("Assertion Failed")}function me(e){p.setImmediate?setImmediate(e):setTimeout(e,0)}function he(e,t){if(typeof t=="string"&&q(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var a=he(e,t[r]);n.push(a)}return n}var l=t.indexOf(".");if(l!==-1){var f=e[t.substr(0,l)];return f==null?void 0:he(f,t.substr(l+1))}}function ue(e,t,n){if(e&&t!==void 0&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){_e(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)ue(e,t[r],n[r])}else{var a,l,f=t.indexOf(".");f!==-1?(a=t.substr(0,f),(l=t.substr(f+1))===""?n===void 0?P(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n:ue(f=!(f=e[a])||!q(e,a)?e[a]={}:f,l,n)):n===void 0?P(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function ze(e){var t,n={};for(t in e)q(e,t)&&(n[t]=e[t]);return n}var Ft=[].concat;function jr(e){return Ft.apply([],e)}var $e="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(jr([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return p[e]}),Dr=new Set($e.map(function(e){return p[e]})),vt=null;function He(e){return vt=new WeakMap,e=function t(n){if(!n||typeof n!="object")return n;var r=vt.get(n);if(r)return r;if(P(n)){r=[],vt.set(n,r);for(var i=0,a=n.length;i<a;++i)r.push(t(n[i]))}else if(Dr.has(n.constructor))r=n;else{var l,f=T(n);for(l in r=f===Object.prototype?{}:Object.create(f),vt.set(n,r),n)q(n,l)&&(r[l]=t(n[l]))}return r}(e),vt=null,e}var ii={}.toString;function An(e){return ii.call(e).slice(8,-1)}var Tn=typeof Symbol<"u"?Symbol.iterator:"@@iterator",si=typeof Tn=="symbol"?function(e){var t;return e!=null&&(t=e[Tn])&&t.apply(e)}:function(){return null};function Ve(e,t){return t=e.indexOf(t),0<=t&&e.splice(t,1),0<=t}var st={};function De(e){var t,n,r,i;if(arguments.length===1){if(P(e))return e.slice();if(this===st&&typeof e=="string")return[e];if(i=si(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)!="number")return[e];for(n=new Array(t);t--;)n[t]=e[t];return n}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var Cn=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},_t=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Re=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(_t),ai={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function at(e,t){this.name=e,this.message=t}function Br(e,t){return e+". Errors: "+Object.keys(t).map(function(n){return t[n].toString()}).filter(function(n,r,i){return i.indexOf(n)===r}).join(`
`)}function It(e,t,n,r){this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Br(e,t)}function ut(e,t){this.name="BulkError",this.failures=Object.keys(t).map(function(n){return t[n]}),this.failuresByPos=t,this.message=Br(e,this.failures)}W(at).from(Error).extend({toString:function(){return this.name+": "+this.message}}),W(It).from(at),W(ut).from(at);var jn=Re.reduce(function(e,t){return e[t]=t+"Error",e},{}),ui=at,V=Re.reduce(function(e,t){var n=t+"Error";function r(i,a){this.name=n,i?typeof i=="string"?(this.message="".concat(i).concat(a?`
 `+a:""),this.inner=a||null):typeof i=="object"&&(this.message="".concat(i.name," ").concat(i.message),this.inner=i):(this.message=ai[t]||n,this.inner=null)}return W(r).from(ui),e[t]=r,e},{});V.Syntax=SyntaxError,V.Type=TypeError,V.Range=RangeError;var Kr=_t.reduce(function(e,t){return e[t+"Error"]=V[t],e},{}),Mt=Re.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=V[t]),e},{});function te(){}function gt(e){return e}function ci(e,t){return e==null||e===gt?t:function(n){return t(e(n))}}function We(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function li(e,t){return e===te?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?We(r,this.onsuccess):r),i&&(this.onerror=this.onerror?We(i,this.onerror):i),a!==void 0?a:n}}function fi(e,t){return e===te?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?We(n,this.onsuccess):n),r&&(this.onerror=this.onerror?We(r,this.onerror):r)}}function di(e,t){return e===te?t:function(n){var r=e.apply(this,arguments);I(n,r);var i=this.onsuccess,a=this.onerror;return this.onsuccess=null,this.onerror=null,n=t.apply(this,arguments),i&&(this.onsuccess=this.onsuccess?We(i,this.onsuccess):i),a&&(this.onerror=this.onerror?We(a,this.onerror):a),r===void 0?n===void 0?void 0:n:I(r,n)}}function hi(e,t){return e===te?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function Dn(e,t){return e===te?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,a=new Array(i);i--;)a[i]=arguments[i];return n.then(function(){return t.apply(r,a)})}return t.apply(this,arguments)}}Mt.ModifyError=It,Mt.DexieError=at,Mt.BulkError=ut;var Ae=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Nr(e){Ae=e}var wt={},qr=100,$e=typeof Promise>"u"?[]:function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,T(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,T(t),e]}(),_t=$e[0],Re=$e[1],$e=$e[2],Re=Re&&Re.then,Je=_t&&_t.constructor,Bn=!!$e,xt=function(e,t){Et.push([e,t]),Lt&&(queueMicrotask(yi),Lt=!1)},Kn=!0,Lt=!0,Ge=[],Ut=[],Nn=gt,Ne={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:te,pgp:!1,env:{},finalize:te},z=Ne,Et=[],Xe=0,zt=[];function M(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=z;if(typeof e!="function"){if(e!==wt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Fn(this,this._value))}this._state=null,this._value=null,++t.ref,function n(r,i){try{i(function(a){if(r._state===null){if(a===r)throw new TypeError("A promise cannot be resolved with itself.");var l=r._lib&&ct();a&&typeof a.then=="function"?n(r,function(f,y){a instanceof M?a._then(f,y):a.then(f,y)}):(r._state=!0,r._value=a,Ir(r)),l&&lt()}},Fn.bind(null,r))}catch(a){Fn(r,a)}}(this,e)}var qn={get:function(){var e=z,t=$t;function n(r,i){var a=this,l=!e.global&&(e!==z||t!==$t),f=l&&!Fe(),y=new M(function(b,_){In(a,new Fr(Lr(r,e,l,f),Lr(i,e,l,f),b,_,e))});return this._consoleTask&&(y._consoleTask=this._consoleTask),y}return n.prototype=wt,n},set:function(e){U(this,"then",e&&e.prototype===wt?qn:{get:function(){return e},set:qn.set})}};function Fr(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}function Fn(e,t){var n,r;Ut.push(t),e._state===null&&(n=e._lib&&ct(),t=Nn(t),e._state=!1,e._value=t,r=e,Ge.some(function(i){return i._value===r._value})||Ge.push(r),Ir(e),n&&lt())}function Ir(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)In(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),Xe===0&&(++Xe,xt(function(){--Xe==0&&Mn()},[]))}function In(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Xe,xt(pi,[n,e,t])}else e._listeners.push(t)}function pi(e,t,n){try{var r,i=t._value;!t._state&&Ut.length&&(Ut=[]),r=Ae&&t._consoleTask?t._consoleTask.run(function(){return e(i)}):e(i),t._state||Ut.indexOf(i)!==-1||function(a){for(var l=Ge.length;l;)if(Ge[--l]._value===a._value)return Ge.splice(l,1)}(t),n.resolve(r)}catch(a){n.reject(a)}finally{--Xe==0&&Mn(),--n.psd.ref||n.psd.finalize()}}function yi(){Ye(Ne,function(){ct()&&lt()})}function ct(){var e=Kn;return Lt=Kn=!1,e}function lt(){var e,t,n;do for(;0<Et.length;)for(e=Et,Et=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(0<Et.length);Lt=Kn=!0}function Mn(){var e=Ge;Ge=[],e.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var t=zt.slice(0),n=t.length;n;)t[--n]()}function Ht(e){return new M(wt,!1,e)}function oe(e,t){var n=z;return function(){var r=ct(),i=z;try{return Ie(n,!0),e.apply(this,arguments)}catch(a){t&&t(a)}finally{Ie(i,!1),r&&lt()}}}Z(M.prototype,{then:qn,_then:function(e,t){In(this,new Fr(null,null,e,t,z))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=e,n=arguments[1];return typeof t=="function"?this.then(null,function(r){return(r instanceof t?n:Ht)(r)}):this.then(null,function(r){return(r&&r.name===t?n:Ht)(r)})},finally:function(e){return this.then(function(t){return M.resolve(e()).then(function(){return t})},function(t){return M.resolve(e()).then(function(){return Ht(t)})})},timeout:function(e,t){var n=this;return e<1/0?new M(function(r,i){var a=setTimeout(function(){return i(new V.Timeout(t))},e);n.then(r,i).finally(clearTimeout.bind(null,a))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&U(M.prototype,Symbol.toStringTag,"Dexie.Promise"),Ne.env=Mr(),Z(M,{all:function(){var e=De.apply(null,arguments).map(Jt);return new M(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach(function(i,a){return M.resolve(i).then(function(l){e[a]=l,--r||t(e)},n)})})},resolve:function(e){return e instanceof M?e:e&&typeof e.then=="function"?new M(function(t,n){e.then(t,n)}):new M(wt,!0,e)},reject:Ht,race:function(){var e=De.apply(null,arguments).map(Jt);return new M(function(t,n){e.map(function(r){return M.resolve(r).then(t,n)})})},PSD:{get:function(){return z},set:function(e){return z=e}},totalEchoes:{get:function(){return $t}},newPSD:qe,usePSD:Ye,scheduler:{get:function(){return xt},set:function(e){xt=e}},rejectionMapper:{get:function(){return Nn},set:function(e){Nn=e}},follow:function(e,t){return new M(function(n,r){return qe(function(i,a){var l=z;l.unhandleds=[],l.onunhandled=a,l.finalize=We(function(){var f,y=this;f=function(){y.unhandleds.length===0?i():a(y.unhandleds[0])},zt.push(function b(){f(),zt.splice(zt.indexOf(b),1)}),++Xe,xt(function(){--Xe==0&&Mn()},[])},l.finalize),e()},t,n,r)})}}),Je&&(Je.allSettled&&U(M,"allSettled",function(){var e=De.apply(null,arguments).map(Jt);return new M(function(t){e.length===0&&t([]);var n=e.length,r=new Array(n);e.forEach(function(i,a){return M.resolve(i).then(function(l){return r[a]={status:"fulfilled",value:l}},function(l){return r[a]={status:"rejected",reason:l}}).then(function(){return--n||t(r)})})})}),Je.any&&typeof AggregateError<"u"&&U(M,"any",function(){var e=De.apply(null,arguments).map(Jt);return new M(function(t,n){e.length===0&&n(new AggregateError([]));var r=e.length,i=new Array(r);e.forEach(function(a,l){return M.resolve(a).then(function(f){return t(f)},function(f){i[l]=f,--r||n(new AggregateError(i))})})})}),Je.withResolvers&&(M.withResolvers=Je.withResolvers));var pe={awaits:0,echoes:0,id:0},mi=0,Vt=[],Wt=0,$t=0,bi=0;function qe(e,t,n,r){var i=z,a=Object.create(i);return a.parent=i,a.ref=0,a.global=!1,a.id=++bi,Ne.env,a.env=Bn?{Promise:M,PromiseProp:{value:M,configurable:!0,writable:!0},all:M.all,race:M.race,allSettled:M.allSettled,any:M.any,resolve:M.resolve,reject:M.reject}:{},t&&I(a,t),++i.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()},r=Ye(a,e,n,r),a.ref===0&&a.finalize(),r}function ft(){return pe.id||(pe.id=++mi),++pe.awaits,pe.echoes+=qr,pe.id}function Fe(){return!!pe.awaits&&(--pe.awaits==0&&(pe.id=0),pe.echoes=pe.awaits*qr,!0)}function Jt(e){return pe.echoes&&e&&e.constructor===Je?(ft(),e.then(function(t){return Fe(),t},function(t){return Fe(),ce(t)})):e}function vi(){var e=Vt[Vt.length-1];Vt.pop(),Ie(e,!1)}function Ie(e,t){var n,r=z;(t?!pe.echoes||Wt++&&e===z:!Wt||--Wt&&e===z)||queueMicrotask(t?(function(i){++$t,pe.echoes&&--pe.echoes!=0||(pe.echoes=pe.awaits=pe.id=0),Vt.push(z),Ie(i,!0)}).bind(null,e):vi),e!==z&&(z=e,r===Ne&&(Ne.env=Mr()),Bn&&(n=Ne.env.Promise,t=e.env,(r.global||e.global)&&(Object.defineProperty(p,"Promise",t.PromiseProp),n.all=t.all,n.race=t.race,n.resolve=t.resolve,n.reject=t.reject,t.allSettled&&(n.allSettled=t.allSettled),t.any&&(n.any=t.any))))}function Mr(){var e=p.Promise;return Bn?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(p,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function Ye(e,t,n,r,i){var a=z;try{return Ie(e,!0),t(n,r,i)}finally{Ie(a,!1)}}function Lr(e,t,n,r){return typeof e!="function"?e:function(){var i=z;n&&ft(),Ie(t,!0);try{return e.apply(this,arguments)}finally{Ie(i,!1),r&&queueMicrotask(Fe)}}}function Ln(e){Promise===Je&&pe.echoes===0?Wt===0?e():enqueueNativeMicroTask(e):setTimeout(e,0)}(""+Re).indexOf("[native code]")===-1&&(ft=Fe=te);var ce=M.reject,Qe="",Be="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ur="String expected.",dt=[],Gt="__dbnames",Un="readonly",zn="readwrite";function Ze(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var zr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Xt(e){return typeof e!="string"||/\./.test(e)?function(t){return t}:function(t){return t[e]===void 0&&e in t&&delete(t=He(t))[e],t}}function Hr(){throw V.Type()}function Q(e,t){try{var n=Vr(e),r=Vr(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":return function(i,a){for(var l=i.length,f=a.length,y=l<f?l:f,b=0;b<y;++b)if(i[b]!==a[b])return i[b]<a[b]?-1:1;return l===f?0:l<f?-1:1}(Wr(e),Wr(t));case"Array":return function(i,a){for(var l=i.length,f=a.length,y=l<f?l:f,b=0;b<y;++b){var _=Q(i[b],a[b]);if(_!==0)return _}return l===f?0:l<f?-1:1}(e,t)}}catch{}return NaN}function Vr(e){var t=typeof e;return t!="object"?t:ArrayBuffer.isView(e)?"binary":(e=An(e),e==="ArrayBuffer"?"binary":e)}function Wr(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var $r=(ne.prototype._trans=function(e,t,n){var r=this._tx||z.trans,i=this.name,a=Ae&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(e==="readonly"?"read":"write"," ").concat(this.name));function l(b,_,h){if(!h.schema[i])throw new V.NotFound("Table "+i+" not part of transaction");return t(h.idbtrans,h)}var f=ct();try{var y=r&&r.db._novip===this.db._novip?r===z.trans?r._promise(e,l,n):qe(function(){return r._promise(e,l,n)},{trans:r,transless:z.transless||z}):function b(_,h,E,m){if(_.idbdb&&(_._state.openComplete||z.letThrough||_._vip)){var w=_._createTransaction(h,E,_._dbSchema);try{w.create(),_._state.PR1398_maxLoop=3}catch(x){return x.name===jn.InvalidState&&_.isOpen()&&0<--_._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),_.close({disableAutoOpen:!1}),_.open().then(function(){return b(_,h,E,m)})):ce(x)}return w._promise(h,function(x,g){return qe(function(){return z.trans=w,m(x,g,w)})}).then(function(x){if(h==="readwrite")try{w.idbtrans.commit()}catch{}return h==="readonly"?x:w._completion.then(function(){return x})})}if(_._state.openComplete)return ce(new V.DatabaseClosed(_._state.dbOpenError));if(!_._state.isBeingOpened){if(!_._state.autoOpen)return ce(new V.DatabaseClosed);_.open().catch(te)}return _._state.dbReadyPromise.then(function(){return b(_,h,E,m)})}(this.db,e,[this.name],l);return a&&(y._consoleTask=a,y=y.catch(function(b){return console.trace(b),ce(b)})),y}finally{f&&lt()}},ne.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):e==null?ce(new V.Type("Invalid argument to Table.get()")):this._trans("readonly",function(r){return n.core.get({trans:r,key:e}).then(function(i){return n.hook.reading.fire(i)})}).then(t)},ne.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(P(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=v(e);if(t.length===1)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(f){if(f.compound&&t.every(function(b){return 0<=f.keyPath.indexOf(b)})){for(var y=0;y<t.length;++y)if(t.indexOf(f.keyPath[y])===-1)return!1;return!0}return!1}).sort(function(f,y){return f.keyPath.length-y.keyPath.length})[0];if(n&&this.db._maxKey!==Qe){var a=n.keyPath.slice(0,t.length);return this.where(a).equals(a.map(function(y){return e[y]}))}!n&&Ae&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(t.join("+"),"]"));var r=this.schema.idxByName;function i(f,y){return Q(f,y)===0}var l=t.reduce(function(h,y){var b=h[0],_=h[1],h=r[y],E=e[y];return[b||h,b||!h?Ze(_,h&&h.multi?function(m){return m=he(m,y),P(m)&&m.some(function(w){return i(E,w)})}:function(m){return i(E,he(m,y))}):_]},[null,null]),a=l[0],l=l[1];return a?this.where(a.name).equals(e[a.keyPath]).filter(l):n?this.filter(l):this.where(t).equals("")},ne.prototype.filter=function(e){return this.toCollection().and(e)},ne.prototype.count=function(e){return this.toCollection().count(e)},ne.prototype.offset=function(e){return this.toCollection().offset(e)},ne.prototype.limit=function(e){return this.toCollection().limit(e)},ne.prototype.each=function(e){return this.toCollection().each(e)},ne.prototype.toArray=function(e){return this.toCollection().toArray(e)},ne.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ne.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,P(e)?"[".concat(e.join("+"),"]"):e))},ne.prototype.reverse=function(){return this.toCollection().reverse()},ne.prototype.mapToClass=function(e){var t,n=this.db,r=this.name;function i(){return t!==null&&t.apply(this,arguments)||this}(this.schema.mappedClass=e).prototype instanceof Hr&&(function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function _(){this.constructor=y}c(y,b),y.prototype=b===null?Object.create(b):(_.prototype=b.prototype,new _)}(i,t=e),Object.defineProperty(i.prototype,"db",{get:function(){return n},enumerable:!1,configurable:!0}),i.prototype.table=function(){return r},e=i);for(var a=new Set,l=e.prototype;l;l=T(l))Object.getOwnPropertyNames(l).forEach(function(y){return a.add(y)});function f(y){if(!y)return y;var b,_=Object.create(e.prototype);for(b in y)if(!a.has(b))try{_[b]=y[b]}catch{}return _}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=f,this.hook("reading",f),e},ne.prototype.defineClass=function(){return this.mapToClass(function(e){I(this,e)})},ne.prototype.add=function(e,t){var n=this,r=this.schema.primKey,i=r.auto,a=r.keyPath,l=e;return a&&i&&(l=Xt(a)(e)),this._trans("readwrite",function(f){return n.core.mutate({trans:f,type:"add",keys:t!=null?[t]:null,values:[l]})}).then(function(f){return f.numFailures?M.reject(f.failures[0]):f.lastResult}).then(function(f){if(a)try{ue(e,a,f)}catch{}return f})},ne.prototype.update=function(e,t){return typeof e!="object"||P(e)?this.where(":id").equals(e).modify(t):(e=he(e,this.schema.primKey.keyPath),e===void 0?ce(new V.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t))},ne.prototype.put=function(e,t){var n=this,r=this.schema.primKey,i=r.auto,a=r.keyPath,l=e;return a&&i&&(l=Xt(a)(e)),this._trans("readwrite",function(f){return n.core.mutate({trans:f,type:"put",values:[l],keys:t!=null?[t]:null})}).then(function(f){return f.numFailures?M.reject(f.failures[0]):f.lastResult}).then(function(f){if(a)try{ue(e,a,f)}catch{}return f})},ne.prototype.delete=function(e){var t=this;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})}).then(function(n){return n.numFailures?M.reject(n.failures[0]):void 0})},ne.prototype.clear=function(){var e=this;return this._trans("readwrite",function(t){return e.core.mutate({trans:t,type:"deleteRange",range:zr})}).then(function(t){return t.numFailures?M.reject(t.failures[0]):void 0})},ne.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",function(n){return t.core.getMany({keys:e,trans:n}).then(function(r){return r.map(function(i){return t.hook.reading.fire(i)})})})},ne.prototype.bulkAdd=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,a=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(l){var b=r.schema.primKey,f=b.auto,b=b.keyPath;if(b&&i)throw new V.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new V.InvalidArgument("Arguments objects and keys must have the same length");var y=e.length,b=b&&f?e.map(Xt(b)):e;return r.core.mutate({trans:l,type:"add",keys:i,values:b,wantResults:a}).then(function(w){var h=w.numFailures,E=w.results,m=w.lastResult,w=w.failures;if(h===0)return a?E:m;throw new ut("".concat(r.name,".bulkAdd(): ").concat(h," of ").concat(y," operations failed"),w)})})},ne.prototype.bulkPut=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,a=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(l){var b=r.schema.primKey,f=b.auto,b=b.keyPath;if(b&&i)throw new V.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new V.InvalidArgument("Arguments objects and keys must have the same length");var y=e.length,b=b&&f?e.map(Xt(b)):e;return r.core.mutate({trans:l,type:"put",keys:i,values:b,wantResults:a}).then(function(w){var h=w.numFailures,E=w.results,m=w.lastResult,w=w.failures;if(h===0)return a?E:m;throw new ut("".concat(r.name,".bulkPut(): ").concat(h," of ").concat(y," operations failed"),w)})})},ne.prototype.bulkUpdate=function(e){var t=this,n=this.core,r=e.map(function(l){return l.key}),i=e.map(function(l){return l.changes}),a=[];return this._trans("readwrite",function(l){return n.getMany({trans:l,keys:r,cache:"clone"}).then(function(f){var y=[],b=[];e.forEach(function(h,E){var m=h.key,w=h.changes,x=f[E];if(x){for(var g=0,O=Object.keys(w);g<O.length;g++){var S=O[g],k=w[S];if(S===t.schema.primKey.keyPath){if(Q(k,m)!==0)throw new V.Constraint("Cannot update primary key in bulkUpdate()")}else ue(x,S,k)}a.push(E),y.push(m),b.push(x)}});var _=y.length;return n.mutate({trans:l,type:"put",keys:y,values:b,updates:{keys:r,changeSpecs:i}}).then(function(h){var E=h.numFailures,m=h.failures;if(E===0)return _;for(var w=0,x=Object.keys(m);w<x.length;w++){var g,O=x[w],S=a[Number(O)];S!=null&&(g=m[O],delete m[O],m[S]=g)}throw new ut("".concat(t.name,".bulkUpdate(): ").concat(E," of ").concat(_," operations failed"),m)})})})},ne.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",function(r){return t.core.mutate({trans:r,type:"delete",keys:e})}).then(function(l){var i=l.numFailures,a=l.lastResult,l=l.failures;if(i===0)return a;throw new ut("".concat(t.name,".bulkDelete(): ").concat(i," of ").concat(n," operations failed"),l)})},ne);function ne(){}function Ot(e){function t(l,f){if(f){for(var y=arguments.length,b=new Array(y-1);--y;)b[y-1]=arguments[y];return n[l].subscribe.apply(null,b),e}if(typeof l=="string")return n[l]}var n={};t.addEventType=a;for(var r=1,i=arguments.length;r<i;++r)a(arguments[r]);return t;function a(l,f,y){if(typeof l!="object"){var b;f=f||hi;var _={subscribers:[],fire:y=y||te,subscribe:function(h){_.subscribers.indexOf(h)===-1&&(_.subscribers.push(h),_.fire=f(_.fire,h))},unsubscribe:function(h){_.subscribers=_.subscribers.filter(function(E){return E!==h}),_.fire=_.subscribers.reduce(f,y)}};return n[l]=t[l]=_}v(b=l).forEach(function(h){var E=b[h];if(P(E))a(h,b[h][0],b[h][1]);else{if(E!=="asap")throw new V.InvalidArgument("Invalid event config");var m=a(h,gt,function(){for(var w=arguments.length,x=new Array(w);w--;)x[w]=arguments[w];m.subscribers.forEach(function(g){me(function(){g.apply(null,x)})})})}})}}function St(e,t){return W(t).from({prototype:e}),t}function ht(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Hn(e,t){e.filter=Ze(e.filter,t)}function Vn(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return Ze(r(),t())}:t,e.justLimit=n&&!r}function Yt(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new V.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Jr(e,t,n){var r=Yt(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function Qt(e,t,n,r){var i=e.replayFilter?Ze(e.filter,e.replayFilter()):e.filter;if(e.or){var a={},l=function(f,y,b){var _,h;i&&!i(y,b,function(E){return y.stop(E)},function(E){return y.fail(E)})||((h=""+(_=y.primaryKey))=="[object ArrayBuffer]"&&(h=""+new Uint8Array(_)),q(a,h)||(a[h]=!0,t(f,y,b)))};return Promise.all([e.or._iterate(l,n),Gr(Jr(e,r,n),e.algorithm,l,!e.keysOnly&&e.valueMapper)])}return Gr(Jr(e,r,n),Ze(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Gr(e,t,n,r){var i=oe(r?function(a,l,f){return n(r(a),l,f)}:n);return e.then(function(a){if(a)return a.start(function(){var l=function(){return a.continue()};t&&!t(a,function(f){return l=f},function(f){a.stop(f),l=te},function(f){a.fail(f),l=te})||i(a.value,a,function(f){return l=f}),l()})})}var kt=(Xr.prototype.execute=function(e){var t=this["@@propmod"];if(t.add!==void 0){var n=t.add;if(P(n))return d(d([],P(e)?e:[],!0),n).sort();if(typeof n=="number")return(Number(e)||0)+n;if(typeof n=="bigint")try{return BigInt(e)+n}catch{return BigInt(0)+n}throw new TypeError("Invalid term ".concat(n))}if(t.remove!==void 0){var r=t.remove;if(P(r))return P(e)?e.filter(function(i){return!r.includes(i)}).sort():[];if(typeof r=="number")return Number(e)-r;if(typeof r=="bigint")try{return BigInt(e)-r}catch{return BigInt(0)-r}throw new TypeError("Invalid subtrahend ".concat(r))}return n=(n=t.replacePrefix)===null||n===void 0?void 0:n[0],n&&typeof e=="string"&&e.startsWith(n)?t.replacePrefix[1]+e.substring(n.length):e},Xr);function Xr(e){this["@@propmod"]=e}var gi=(ee.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,ce.bind(null,n.error)):n.table._trans("readonly",e).then(t)},ee.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,ce.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},ee.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=Ze(t.algorithm,e)},ee.prototype._iterate=function(e,t){return Qt(this._ctx,e,t,this._ctx.table.core)},ee.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&I(n,e),t._ctx=n,t},ee.prototype.raw=function(){return this._ctx.valueMapper=null,this},ee.prototype.each=function(e){var t=this._ctx;return this._read(function(n){return Qt(t,e,n,t.table.core)})},ee.prototype.count=function(e){var t=this;return this._read(function(n){var r=t._ctx,i=r.table.core;if(ht(r,!0))return i.count({trans:n,query:{index:Yt(r,i.schema),range:r.range}}).then(function(l){return Math.min(l,r.limit)});var a=0;return Qt(r,function(){return++a,!1},n,i).then(function(){return a})}).then(e)},ee.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),r=n[0],i=n.length-1;function a(y,b){return b?a(y[n[b]],b-1):y[r]}var l=this._ctx.dir==="next"?1:-1;function f(y,b){return Q(a(y,i),a(b,i))*l}return this.toArray(function(y){return y.sort(f)}).then(t)},ee.prototype.toArray=function(e){var t=this;return this._read(function(n){var r=t._ctx;if(r.dir==="next"&&ht(r,!0)&&0<r.limit){var i=r.valueMapper,a=Yt(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:a,range:r.range}}).then(function(f){return f=f.result,i?f.map(i):f})}var l=[];return Qt(r,function(f){return l.push(f)},n,r.table.core).then(function(){return l})},e)},ee.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,ht(t)?Vn(t,function(){var n=e;return function(r,i){return n===0||(n===1?--n:i(function(){r.advance(n),n=0}),!1)}}):Vn(t,function(){var n=e;return function(){return--n<0}})),this},ee.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Vn(this._ctx,function(){var t=e;return function(n,r,i){return--t<=0&&r(i),0<=t}},!0),this},ee.prototype.until=function(e,t){return Hn(this._ctx,function(n,r,i){return!e(n.value)||(r(i),t)}),this},ee.prototype.first=function(e){return this.limit(1).toArray(function(t){return t[0]}).then(e)},ee.prototype.last=function(e){return this.reverse().first(e)},ee.prototype.filter=function(e){var t;return Hn(this._ctx,function(n){return e(n.value)}),(t=this._ctx).isMatch=Ze(t.isMatch,e),this},ee.prototype.and=function(e){return this.filter(e)},ee.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},ee.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ee.prototype.desc=function(){return this.reverse()},ee.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(n,r){e(r.key,r)})},ee.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},ee.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(n,r){e(r.primaryKey,r)})},ee.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(r,i){n.push(i.key)}).then(function(){return n}).then(e)},ee.prototype.primaryKeys=function(e){var t=this._ctx;if(t.dir==="next"&&ht(t,!0)&&0<t.limit)return this._read(function(r){var i=Yt(t,t.table.core.schema);return t.table.core.query({trans:r,values:!1,limit:t.limit,query:{index:i,range:t.range}})}).then(function(r){return r.result}).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each(function(r,i){n.push(i.primaryKey)}).then(function(){return n}).then(e)},ee.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},ee.prototype.firstKey=function(e){return this.limit(1).keys(function(t){return t[0]}).then(e)},ee.prototype.lastKey=function(e){return this.reverse().firstKey(e)},ee.prototype.distinct=function(){var e=this._ctx,e=e.index&&e.table.schema.idxByName[e.index];if(!e||!e.multi)return this;var t={};return Hn(this._ctx,function(i){var r=i.primaryKey.toString(),i=q(t,r);return t[r]=!0,!i}),this},ee.prototype.modify=function(e){var t=this,n=this._ctx;return this._write(function(r){var i,a,l;l=typeof e=="function"?e:(i=v(e),a=i.length,function(g){for(var O=!1,S=0;S<a;++S){var k=i[S],A=e[k],C=he(g,k);A instanceof kt?(ue(g,k,A.execute(C)),O=!0):C!==A&&(ue(g,k,A),O=!0)}return O});var f=n.table.core,h=f.schema.primaryKey,y=h.outbound,b=h.extractKey,_=200,h=t.db._options.modifyChunkSize;h&&(_=typeof h=="object"?h[f.name]||h["*"]||200:h);function E(g,k){var S=k.failures,k=k.numFailures;w+=g-k;for(var A=0,C=v(S);A<C.length;A++){var N=C[A];m.push(S[N])}}var m=[],w=0,x=[];return t.clone().primaryKeys().then(function(g){function O(k){var A=Math.min(_,g.length-k);return f.getMany({trans:r,keys:g.slice(k,k+A),cache:"immutable"}).then(function(C){for(var N=[],j=[],B=y?[]:null,F=[],K=0;K<A;++K){var L=C[K],J={value:He(L),primKey:g[k+K]};l.call(J,J.value,J)!==!1&&(J.value==null?F.push(g[k+K]):y||Q(b(L),b(J.value))===0?(j.push(J.value),y&&B.push(g[k+K])):(F.push(g[k+K]),N.push(J.value)))}return Promise.resolve(0<N.length&&f.mutate({trans:r,type:"add",values:N}).then(function(X){for(var Y in X.failures)F.splice(parseInt(Y),1);E(N.length,X)})).then(function(){return(0<j.length||S&&typeof e=="object")&&f.mutate({trans:r,type:"put",keys:B,values:j,criteria:S,changeSpec:typeof e!="function"&&e,isAdditionalChunk:0<k}).then(function(X){return E(j.length,X)})}).then(function(){return(0<F.length||S&&e===Wn)&&f.mutate({trans:r,type:"delete",keys:F,criteria:S,isAdditionalChunk:0<k}).then(function(X){return E(F.length,X)})}).then(function(){return g.length>k+A&&O(k+_)})})}var S=ht(n)&&n.limit===1/0&&(typeof e!="function"||e===Wn)&&{index:n.index,range:n.range};return O(0).then(function(){if(0<m.length)throw new It("Error modifying one or more objects",m,w,x);return g.length})})})},ee.prototype.delete=function(){var e=this._ctx,t=e.range;return ht(e)&&(e.isPrimKey||t.type===3)?this._write(function(n){var r=e.table.core.schema.primaryKey,i=t;return e.table.core.count({trans:n,query:{index:r,range:i}}).then(function(a){return e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then(function(l){var f=l.failures;if(l.lastResult,l.results,l=l.numFailures,l)throw new It("Could not delete some values",Object.keys(f).map(function(y){return f[y]}),a-l);return a-l})})}):this.modify(Wn)},ee);function ee(){}var Wn=function(e,t){return t.value=null};function wi(e,t){return e<t?-1:e===t?0:1}function _i(e,t){return t<e?-1:e===t?0:1}function Oe(e,t,n){return e=e instanceof Qr?new e.Collection(e):e,e._ctx.error=new(n||TypeError)(t),e}function pt(e){return new e.Collection(e,function(){return Yr("")}).limit(0)}function Zt(e,t,n,r){var i,a,l,f,y,b,_,h=n.length;if(!n.every(function(w){return typeof w=="string"}))return Oe(e,Ur);function E(w){i=w==="next"?function(g){return g.toUpperCase()}:function(g){return g.toLowerCase()},a=w==="next"?function(g){return g.toLowerCase()}:function(g){return g.toUpperCase()},l=w==="next"?wi:_i;var x=n.map(function(g){return{lower:a(g),upper:i(g)}}).sort(function(g,O){return l(g.lower,O.lower)});f=x.map(function(g){return g.upper}),y=x.map(function(g){return g.lower}),_=(b=w)==="next"?"":r}E("next"),e=new e.Collection(e,function(){return Me(f[0],y[h-1]+r)}),e._ondirectionchange=function(w){E(w)};var m=0;return e._addAlgorithm(function(w,x,g){var O=w.key;if(typeof O!="string")return!1;var S=a(O);if(t(S,y,m))return!0;for(var k=null,A=m;A<h;++A){var C=function(N,j,B,F,K,L){for(var J=Math.min(N.length,F.length),X=-1,Y=0;Y<J;++Y){var Se=j[Y];if(Se!==F[Y])return K(N[Y],B[Y])<0?N.substr(0,Y)+B[Y]+B.substr(Y+1):K(N[Y],F[Y])<0?N.substr(0,Y)+F[Y]+B.substr(Y+1):0<=X?N.substr(0,X)+j[X]+B.substr(X+1):null;K(N[Y],Se)<0&&(X=Y)}return J<F.length&&L==="next"?N+B.substr(N.length):J<N.length&&L==="prev"?N.substr(0,B.length):X<0?null:N.substr(0,X)+F[X]+B.substr(X+1)}(O,S,f[A],y[A],l,b);C===null&&k===null?m=A+1:(k===null||0<l(k,C))&&(k=C)}return x(k!==null?function(){w.continue(k+_)}:g),!1}),e}function Me(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Yr(e){return{type:1,lower:e,upper:e}}var Qr=(Object.defineProperty(ye.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ye.prototype.between=function(e,t,n,r){n=n!==!1,r=r===!0;try{return 0<this._cmp(e,t)||this._cmp(e,t)===0&&(n||r)&&(!n||!r)?pt(this):new this.Collection(this,function(){return Me(e,t,!n,!r)})}catch{return Oe(this,Be)}},ye.prototype.equals=function(e){return e==null?Oe(this,Be):new this.Collection(this,function(){return Yr(e)})},ye.prototype.above=function(e){return e==null?Oe(this,Be):new this.Collection(this,function(){return Me(e,void 0,!0)})},ye.prototype.aboveOrEqual=function(e){return e==null?Oe(this,Be):new this.Collection(this,function(){return Me(e,void 0,!1)})},ye.prototype.below=function(e){return e==null?Oe(this,Be):new this.Collection(this,function(){return Me(void 0,e,!1,!0)})},ye.prototype.belowOrEqual=function(e){return e==null?Oe(this,Be):new this.Collection(this,function(){return Me(void 0,e)})},ye.prototype.startsWith=function(e){return typeof e!="string"?Oe(this,Ur):this.between(e,e+Qe,!0,!0)},ye.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):Zt(this,function(t,n){return t.indexOf(n[0])===0},[e],Qe)},ye.prototype.equalsIgnoreCase=function(e){return Zt(this,function(t,n){return t===n[0]},[e],"")},ye.prototype.anyOfIgnoreCase=function(){var e=De.apply(st,arguments);return e.length===0?pt(this):Zt(this,function(t,n){return n.indexOf(t)!==-1},e,"")},ye.prototype.startsWithAnyOfIgnoreCase=function(){var e=De.apply(st,arguments);return e.length===0?pt(this):Zt(this,function(t,n){return n.some(function(r){return t.indexOf(r)===0})},e,Qe)},ye.prototype.anyOf=function(){var e=this,t=De.apply(st,arguments),n=this._cmp;try{t.sort(n)}catch{return Oe(this,Be)}if(t.length===0)return pt(this);var r=new this.Collection(this,function(){return Me(t[0],t[t.length-1])});r._ondirectionchange=function(a){n=a==="next"?e._ascending:e._descending,t.sort(n)};var i=0;return r._addAlgorithm(function(a,l,f){for(var y=a.key;0<n(y,t[i]);)if(++i===t.length)return l(f),!1;return n(y,t[i])===0||(l(function(){a.continue(t[i])}),!1)}),r},ye.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ye.prototype.noneOf=function(){var e=De.apply(st,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return Oe(this,Be)}var t=e.reduce(function(n,r){return n?n.concat([[n[n.length-1][1],r]]):[[-1/0,r]]},null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},ye.prototype.inAnyRange=function(O,t){var n=this,r=this._cmp,i=this._ascending,a=this._descending,l=this._min,f=this._max;if(O.length===0)return pt(this);if(!O.every(function(S){return S[0]!==void 0&&S[1]!==void 0&&i(S[0],S[1])<=0}))return Oe(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",V.InvalidArgument);var y=!t||t.includeLowers!==!1,b=t&&t.includeUppers===!0,_,h=i;function E(S,k){return h(S[0],k[0])}try{(_=O.reduce(function(S,k){for(var A=0,C=S.length;A<C;++A){var N=S[A];if(r(k[0],N[1])<0&&0<r(k[1],N[0])){N[0]=l(N[0],k[0]),N[1]=f(N[1],k[1]);break}}return A===C&&S.push(k),S},[])).sort(E)}catch{return Oe(this,Be)}var m=0,w=b?function(S){return 0<i(S,_[m][1])}:function(S){return 0<=i(S,_[m][1])},x=y?function(S){return 0<a(S,_[m][0])}:function(S){return 0<=a(S,_[m][0])},g=w,O=new this.Collection(this,function(){return Me(_[0][0],_[_.length-1][1],!y,!b)});return O._ondirectionchange=function(S){h=S==="next"?(g=w,i):(g=x,a),_.sort(E)},O._addAlgorithm(function(S,k,A){for(var C,N=S.key;g(N);)if(++m===_.length)return k(A),!1;return!w(C=N)&&!x(C)||(n._cmp(N,_[m][1])===0||n._cmp(N,_[m][0])===0||k(function(){h===i?S.continue(_[m][0]):S.continue(_[m][1])}),!1)}),O},ye.prototype.startsWithAnyOf=function(){var e=De.apply(st,arguments);return e.every(function(t){return typeof t=="string"})?e.length===0?pt(this):this.inAnyRange(e.map(function(t){return[t,t+Qe]})):Oe(this,"startsWithAnyOf() only works with strings")},ye);function ye(){}function Te(e){return oe(function(t){return Rt(t),e(t.target.error),!1})}function Rt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Pt="storagemutated",$n="x-storagemutated-1",Le=Ot(null,Pt),xi=(Ce.prototype._lock=function(){return _e(!z.global),++this._reculock,this._reculock!==1||z.global||(z.lockOwnerFor=this),this},Ce.prototype._unlock=function(){if(_e(!z.global),--this._reculock==0)for(z.global||(z.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{Ye(e[1],e[0])}catch{}}return this},Ce.prototype._locked=function(){return this._reculock&&z.lockOwnerFor!==this},Ce.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(_e(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new V.DatabaseClosed(r);case"MissingAPIError":throw new V.MissingAPI(r.message,r);default:throw new V.OpenFailed(r)}if(!this.active)throw new V.TransactionInactive;return _e(this._completion._state===null),(e=this.idbtrans=e||(this.db.core||n).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=oe(function(i){Rt(i),t._reject(e.error)}),e.onabort=oe(function(i){Rt(i),t.active&&t._reject(new V.Abort(e.error)),t.active=!1,t.on("abort").fire(i)}),e.oncomplete=oe(function(){t.active=!1,t._resolve(),"mutatedParts"in e&&Le.storagemutated.fire(e.mutatedParts)}),this},Ce.prototype._promise=function(e,t,n){var r=this;if(e==="readwrite"&&this.mode!=="readwrite")return ce(new V.ReadOnly("Transaction is readonly"));if(!this.active)return ce(new V.TransactionInactive);if(this._locked())return new M(function(a,l){r._blockedFuncs.push([function(){r._promise(e,t,n).then(a,l)},z])});if(n)return qe(function(){var a=new M(function(l,f){r._lock();var y=t(l,f,r);y&&y.then&&y.then(l,f)});return a.finally(function(){return r._unlock()}),a._lib=!0,a});var i=new M(function(a,l){var f=t(a,l,r);f&&f.then&&f.then(a,l)});return i._lib=!0,i},Ce.prototype._root=function(){return this.parent?this.parent._root():this},Ce.prototype.waitFor=function(e){var t,n=this._root(),r=M.resolve(e);n._waitingFor?n._waitingFor=n._waitingFor.then(function(){return r}):(n._waitingFor=r,n._waitingQueue=[],t=n.idbtrans.objectStore(n.storeNames[0]),function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(t.get(-1/0).onsuccess=a)}());var i=n._waitingFor;return new M(function(a,l){r.then(function(f){return n._waitingQueue.push(oe(a.bind(null,f)))},function(f){return n._waitingQueue.push(oe(l.bind(null,f)))}).finally(function(){n._waitingFor===i&&(n._waitingFor=null)})})},Ce.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new V.Abort))},Ce.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(q(t,e))return t[e];var n=this.schema[e];if(!n)throw new V.NotFound("Table "+e+" not part of transaction");return n=new this.db.Table(e,n,this),n.core=this.db.core.table(e),t[e]=n},Ce);function Ce(){}function Jn(e,t,n,r,i,a,l){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:a,src:(n&&!l?"&":"")+(r?"*":"")+(i?"++":"")+Zr(t)}}function Zr(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Gn(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:(r=function(i){return[i.name,i]},n.reduce(function(i,a,l){return l=r(a,l),l&&(i[l[0]]=l[1]),i},{}))};var r}var At=function(e){try{return e.only([[]]),At=function(){return[[]]},[[]]}catch{return At=function(){return Qe},Qe}};function Xn(e){return e==null?function(){}:typeof e=="string"?(t=e).split(".").length===1?function(n){return n[t]}:function(n){return he(n,t)}:function(n){return he(n,e)};var t}function eo(e){return[].slice.call(e)}var Ei=0;function Tt(e){return e==null?":id":typeof e=="string"?e:"[".concat(e.join("+"),"]")}function Oi(e,t,y){function r(g){if(g.type===3)return null;if(g.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var m=g.lower,w=g.upper,x=g.lowerOpen,g=g.upperOpen;return m===void 0?w===void 0?null:t.upperBound(w,!!g):w===void 0?t.lowerBound(m,!!x):t.bound(m,w,!!x,!!g)}function i(E){var m,w=E.name;return{name:w,schema:E,mutate:function(x){var g=x.trans,O=x.type,S=x.keys,k=x.values,A=x.range;return new Promise(function(C,N){C=oe(C);var j=g.objectStore(w),B=j.keyPath==null,F=O==="put"||O==="add";if(!F&&O!=="delete"&&O!=="deleteRange")throw new Error("Invalid operation type: "+O);var K,L=(S||k||{length:1}).length;if(S&&k&&S.length!==k.length)throw new Error("Given keys array must have same length as given values array.");if(L===0)return C({numFailures:0,failures:{},results:[],lastResult:void 0});function J(xe){++Se,Rt(xe)}var X=[],Y=[],Se=0;if(O==="deleteRange"){if(A.type===4)return C({numFailures:Se,failures:Y,results:[],lastResult:void 0});A.type===3?X.push(K=j.clear()):X.push(K=j.delete(r(A)))}else{var B=F?B?[k,S]:[k,null]:[S,null],$=B[0],ve=B[1];if(F)for(var ge=0;ge<L;++ge)X.push(K=ve&&ve[ge]!==void 0?j[O]($[ge],ve[ge]):j[O]($[ge])),K.onerror=J;else for(ge=0;ge<L;++ge)X.push(K=j[O]($[ge])),K.onerror=J}function hn(xe){xe=xe.target.result,X.forEach(function(nt,pr){return nt.error!=null&&(Y[pr]=nt.error)}),C({numFailures:Se,failures:Y,results:O==="delete"?S:X.map(function(nt){return nt.result}),lastResult:xe})}K.onerror=function(xe){J(xe),hn(xe)},K.onsuccess=hn})},getMany:function(x){var g=x.trans,O=x.keys;return new Promise(function(S,k){S=oe(S);for(var A,C=g.objectStore(w),N=O.length,j=new Array(N),B=0,F=0,K=function(X){X=X.target,j[X._pos]=X.result,++F===B&&S(j)},L=Te(k),J=0;J<N;++J)O[J]!=null&&((A=C.get(O[J]))._pos=J,A.onsuccess=K,A.onerror=L,++B);B===0&&S(j)})},get:function(x){var g=x.trans,O=x.key;return new Promise(function(S,k){S=oe(S);var A=g.objectStore(w).get(O);A.onsuccess=function(C){return S(C.target.result)},A.onerror=Te(k)})},query:(m=b,function(x){return new Promise(function(g,O){g=oe(g);var S,k,A,B=x.trans,C=x.values,N=x.limit,K=x.query,j=N===1/0?void 0:N,F=K.index,K=K.range,B=B.objectStore(w),F=F.isPrimaryKey?B:B.index(F.name),K=r(K);if(N===0)return g({result:[]});m?((j=C?F.getAll(K,j):F.getAllKeys(K,j)).onsuccess=function(L){return g({result:L.target.result})},j.onerror=Te(O)):(S=0,k=!C&&"openKeyCursor"in F?F.openKeyCursor(K):F.openCursor(K),A=[],k.onsuccess=function(L){var J=k.result;return J?(A.push(C?J.value:J.primaryKey),++S===N?g({result:A}):void J.continue()):g({result:A})},k.onerror=Te(O))})}),openCursor:function(x){var g=x.trans,O=x.values,S=x.query,k=x.reverse,A=x.unique;return new Promise(function(C,N){C=oe(C);var F=S.index,j=S.range,B=g.objectStore(w),B=F.isPrimaryKey?B:B.index(F.name),F=k?A?"prevunique":"prev":A?"nextunique":"next",K=!O&&"openKeyCursor"in B?B.openKeyCursor(r(j),F):B.openCursor(r(j),F);K.onerror=Te(N),K.onsuccess=oe(function(L){var J,X,Y,Se,$=K.result;$?($.___id=++Ei,$.done=!1,J=$.continue.bind($),X=(X=$.continuePrimaryKey)&&X.bind($),Y=$.advance.bind($),Se=function(){throw new Error("Cursor not stopped")},$.trans=g,$.stop=$.continue=$.continuePrimaryKey=$.advance=function(){throw new Error("Cursor not started")},$.fail=oe(N),$.next=function(){var ve=this,ge=1;return this.start(function(){return ge--?ve.continue():ve.stop()}).then(function(){return ve})},$.start=function(ve){function ge(){if(K.result)try{ve()}catch(xe){$.fail(xe)}else $.done=!0,$.start=function(){throw new Error("Cursor behind last entry")},$.stop()}var hn=new Promise(function(xe,nt){xe=oe(xe),K.onerror=Te(nt),$.fail=nt,$.stop=function(pr){$.stop=$.continue=$.continuePrimaryKey=$.advance=Se,xe(pr)}});return K.onsuccess=oe(function(xe){K.onsuccess=ge,ge()}),$.continue=J,$.continuePrimaryKey=X,$.advance=Y,ge(),hn},C($)):C(null)},N)})},count:function(x){var g=x.query,O=x.trans,S=g.index,k=g.range;return new Promise(function(A,C){var N=O.objectStore(w),j=S.isPrimaryKey?N:N.index(S.name),N=r(k),j=N?j.count(N):j.count();j.onsuccess=oe(function(B){return A(B.target.result)}),j.onerror=Te(C)})}}}var a,l,f,_=(l=y,f=eo((a=e).objectStoreNames),{schema:{name:a.name,tables:f.map(function(E){return l.objectStore(E)}).map(function(E){var m=E.keyPath,g=E.autoIncrement,w=P(m),x={},g={name:E.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:m==null,compound:w,keyPath:m,autoIncrement:g,unique:!0,extractKey:Xn(m)},indexes:eo(E.indexNames).map(function(O){return E.index(O)}).map(function(A){var S=A.name,k=A.unique,C=A.multiEntry,A=A.keyPath,C={name:S,compound:P(A),keyPath:A,unique:k,multiEntry:C,extractKey:Xn(A)};return x[Tt(A)]=C}),getIndexByKeyPath:function(O){return x[Tt(O)]}};return x[":id"]=g.primaryKey,m!=null&&(x[Tt(m)]=g.primaryKey),g})},hasGetAll:0<f.length&&"getAll"in l.objectStore(f[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),y=_.schema,b=_.hasGetAll,_=y.tables.map(i),h={};return _.forEach(function(E){return h[E.name]=E}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(E){if(!h[E])throw new Error("Table '".concat(E,"' not found"));return h[E]},MIN_KEY:-1/0,MAX_KEY:At(t),schema:y}}function Si(e,t,n,r){var i=n.IDBKeyRange;return n.indexedDB,{dbcore:(r=Oi(t,i,r),e.dbcore.reduce(function(a,l){return l=l.create,u(u({},a),l(a))},r))}}function en(e,r){var n=r.db,r=Si(e._middlewares,n,e._deps,r);e.core=r.dbcore,e.tables.forEach(function(i){var a=i.name;e.core.schema.tables.some(function(l){return l.name===a})&&(i.core=e.core.table(a),e[a]instanceof e.Table&&(e[a].core=i.core))})}function tn(e,t,n,r){n.forEach(function(i){var a=r[i];t.forEach(function(l){var f=function y(b,_){return H(b,_)||(b=T(b))&&y(b,_)}(l,i);(!f||"value"in f&&f.value===void 0)&&(l===e.Transaction.prototype||l instanceof e.Transaction?U(l,i,{get:function(){return this.table(i)},set:function(y){se(this,i,{value:y,writable:!0,configurable:!0,enumerable:!0})}}):l[i]=new e.Table(i,a))})})}function Yn(e,t){t.forEach(function(n){for(var r in n)n[r]instanceof e.Table&&delete n[r]})}function ki(e,t){return e._cfg.version-t._cfg.version}function Ri(e,t,n,r){var i=e._dbSchema;n.objectStoreNames.contains("$meta")&&!i.$meta&&(i.$meta=Gn("$meta",no("")[0],[]),e._storeNames.push("$meta"));var a=e._createTransaction("readwrite",e._storeNames,i);a.create(n),a._completion.catch(r);var l=a._reject.bind(a),f=z.transless||z;qe(function(){return z.trans=a,z.transless=f,t!==0?(en(e,n),b=t,((y=a).storeNames.includes("$meta")?y.table("$meta").get("version").then(function(_){return _??b}):M.resolve(b)).then(function(_){return E=_,m=a,w=n,x=[],_=(h=e)._versions,g=h._dbSchema=rn(0,h.idbdb,w),(_=_.filter(function(O){return O._cfg.version>=E})).length!==0?(_.forEach(function(O){x.push(function(){var S=g,k=O._cfg.dbschema;on(h,S,w),on(h,k,w),g=h._dbSchema=k;var A=Qn(S,k);A.add.forEach(function(F){Zn(w,F[0],F[1].primKey,F[1].indexes)}),A.change.forEach(function(F){if(F.recreate)throw new V.Upgrade("Not yet support for changing primary key");var K=w.objectStore(F.name);F.add.forEach(function(L){return nn(K,L)}),F.change.forEach(function(L){K.deleteIndex(L.name),nn(K,L)}),F.del.forEach(function(L){return K.deleteIndex(L)})});var C=O._cfg.contentUpgrade;if(C&&O._cfg.version>E){en(h,w),m._memoizedTables={};var N=ze(k);A.del.forEach(function(F){N[F]=S[F]}),Yn(h,[h.Transaction.prototype]),tn(h,[h.Transaction.prototype],v(N),N),m.schema=N;var j,B=Cn(C);return B&&ft(),A=M.follow(function(){var F;(j=C(m))&&B&&(F=Fe.bind(null,null),j.then(F,F))}),j&&typeof j.then=="function"?M.resolve(j):A.then(function(){return j})}}),x.push(function(S){var k,A,C=O._cfg.dbschema;k=C,A=S,[].slice.call(A.db.objectStoreNames).forEach(function(N){return k[N]==null&&A.db.deleteObjectStore(N)}),Yn(h,[h.Transaction.prototype]),tn(h,[h.Transaction.prototype],h._storeNames,h._dbSchema),m.schema=h._dbSchema}),x.push(function(S){h.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(h.idbdb.version/10)===O._cfg.version?(h.idbdb.deleteObjectStore("$meta"),delete h._dbSchema.$meta,h._storeNames=h._storeNames.filter(function(k){return k!=="$meta"})):S.objectStore("$meta").put(O._cfg.version,"version"))})}),function O(){return x.length?M.resolve(x.shift()(m.idbtrans)).then(O):M.resolve()}().then(function(){to(g,w)})):M.resolve();var h,E,m,w,x,g}).catch(l)):(v(i).forEach(function(_){Zn(n,_,i[_].primKey,i[_].indexes)}),en(e,n),void M.follow(function(){return e.on.populate.fire(a)}).catch(l));var y,b})}function Pi(e,t){to(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains("$meta")||t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var n=rn(0,e.idbdb,t);on(e,e._dbSchema,t);for(var r=0,i=Qn(n,e._dbSchema).change;r<i.length;r++){var a=function(l){if(l.change.length||l.recreate)return console.warn("Unable to patch indexes of table ".concat(l.name," because it has changes on the type of index or primary key.")),{value:void 0};var f=t.objectStore(l.name);l.add.forEach(function(y){Ae&&console.debug("Dexie upgrade patch: Creating missing index ".concat(l.name,".").concat(y.src)),nn(f,y)})}(i[r]);if(typeof a=="object")return a.value}}function Qn(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var i=e[n],a=t[n];if(i){var l={name:n,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||i.primKey.auto!==a.primKey.auto)l.recreate=!0,r.change.push(l);else{var f=i.idxByName,y=a.idxByName,b=void 0;for(b in f)y[b]||l.del.push(b);for(b in y){var _=f[b],h=y[b];_?_.src!==h.src&&l.change.push(h):l.add.push(h)}(0<l.del.length||0<l.add.length||0<l.change.length)&&r.change.push(l)}}else r.add.push([n,a])}return r}function Zn(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(a){return nn(i,a)}),i}function to(e,t){v(e).forEach(function(n){t.db.objectStoreNames.contains(n)||(Ae&&console.debug("Dexie: Creating missing table",n),Zn(t,n,e[n].primKey,e[n].indexes))})}function nn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function rn(e,t,n){var r={};return re(t.objectStoreNames,0).forEach(function(i){for(var a=n.objectStore(i),l=Jn(Zr(b=a.keyPath),b||"",!0,!1,!!a.autoIncrement,b&&typeof b!="string",!0),f=[],y=0;y<a.indexNames.length;++y){var _=a.index(a.indexNames[y]),b=_.keyPath,_=Jn(_.name,b,!!_.unique,!!_.multiEntry,!1,b&&typeof b!="string",!1);f.push(_)}r[i]=Gn(i,l,f)}),r}function on(e,t,n){for(var r=n.db.objectStoreNames,i=0;i<r.length;++i){var a=r[i],l=n.objectStore(a);e._hasGetAll="getAll"in l;for(var f=0;f<l.indexNames.length;++f){var y=l.indexNames[f],b=l.index(y).keyPath,_=typeof b=="string"?b:"["+re(b).join("+")+"]";!t[a]||(b=t[a].idxByName[_])&&(b.name=y,delete t[a].idxByName[_],t[a].idxByName[y]=b)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&p.WorkerGlobalScope&&p instanceof p.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function no(e){return e.split(",").map(function(t,n){var r=(t=t.trim()).replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return Jn(r,i||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),P(i),n===0)})}var Ai=(sn.prototype._parseStoresSpec=function(e,t){v(e).forEach(function(n){if(e[n]!==null){var r=no(e[n]),i=r.shift();if(i.unique=!0,i.multi)throw new V.Schema("Primary key cannot be multi-valued");r.forEach(function(a){if(a.auto)throw new V.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new V.Schema("Index must have a name and cannot be an empty string")}),t[n]=Gn(n,i,r)}})},sn.prototype.stores=function(n){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?I(this._cfg.storesSource,n):n;var n=t._versions,r={},i={};return n.forEach(function(a){I(r,a._cfg.storesSource),i=a._cfg.dbschema={},a._parseStoresSpec(r,i)}),t._dbSchema=i,Yn(t,[t._allTables,t,t.Transaction.prototype]),tn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],v(i),i),t._storeNames=v(i),this},sn.prototype.upgrade=function(e){return this._cfg.contentUpgrade=Dn(this._cfg.contentUpgrade||te,e),this},sn);function sn(){}function er(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Ke(Gt,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function tr(e){return e&&typeof e.databases=="function"}function nr(e){return qe(function(){return z.letThrough=!0,e()})}function rr(e){return!("from"in e)}var be=function(e,t){if(!this){var n=new be;return e&&"d"in e&&I(n,e),n}I(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function Ct(e,t,n){var r=Q(t,n);if(!isNaN(r)){if(0<r)throw RangeError();if(rr(e))return I(e,{from:t,to:n,d:1});var i=e.l,r=e.r;if(Q(n,e.from)<0)return i?Ct(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},oo(e);if(0<Q(t,e.to))return r?Ct(r,t,n):e.r={from:t,to:n,d:1,l:null,r:null},oo(e);Q(t,e.from)<0&&(e.from=t,e.l=null,e.d=r?r.d+1:1),0<Q(n,e.to)&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1),n=!e.r,i&&!e.l&&jt(e,i),r&&n&&jt(e,r)}}function jt(e,t){rr(t)||function n(r,y){var a=y.from,l=y.to,f=y.l,y=y.r;Ct(r,a,l),f&&n(r,f),y&&n(r,y)}(e,t)}function ro(e,t){var n=an(t),r=n.next();if(r.done)return!1;for(var i=r.value,a=an(e),l=a.next(i.from),f=l.value;!r.done&&!l.done;){if(Q(f.from,i.to)<=0&&0<=Q(f.to,i.from))return!0;Q(i.from,f.from)<0?i=(r=n.next(f.from)).value:f=(l=a.next(i.from)).value}return!1}function an(e){var t=rr(e)?null:{s:0,n:e};return{next:function(n){for(var r=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&Q(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||Q(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function oo(e){var t,n,r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=1<r?"r":r<-1?"l":"";i&&(t=i=="r"?"l":"r",n=u({},e),r=e[i],e.from=r.from,e.to=r.to,e[i]=r[i],n[i]=r[t],(e[t]=n).d=io(n)),e.d=io(e)}function io(n){var t=n.r,n=n.l;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}function un(e,t){return v(t).forEach(function(n){e[n]?jt(e[n],t[n]):e[n]=function r(i){var a,l,f={};for(a in i)q(i,a)&&(l=i[a],f[a]=!l||typeof l!="object"||Dr.has(l.constructor)?l:r(l));return f}(t[n])}),e}function or(e,t){return e.all||t.all||Object.keys(e).some(function(n){return t[n]&&ro(t[n],e[n])})}Z(be.prototype,((Re={add:function(e){return jt(this,e),this},addKey:function(e){return Ct(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(n){return Ct(t,n,n)}),this},hasKey:function(e){var t=an(this).next(e).value;return t&&Q(t.from,e)<=0&&0<=Q(t.to,e)}})[Tn]=function(){return an(this)},Re));var et={},ir={},sr=!1;function cn(e){un(ir,e),sr||(sr=!0,setTimeout(function(){sr=!1,ar(ir,!(ir={}))},0))}function ar(e,t){t===void 0&&(t=!1);var n=new Set;if(e.all)for(var r=0,i=Object.values(et);r<i.length;r++)so(l=i[r],e,n,t);else for(var a in e){var l,f=/^idb\:\/\/(.*)\/(.*)\//.exec(a);f&&(a=f[1],f=f[2],(l=et["idb://".concat(a,"/").concat(f)])&&so(l,e,n,t))}n.forEach(function(y){return y()})}function so(e,t,n,r){for(var i=[],a=0,l=Object.entries(e.queries.query);a<l.length;a++){for(var f=l[a],y=f[0],b=[],_=0,h=f[1];_<h.length;_++){var E=h[_];or(t,E.obsSet)?E.subscribers.forEach(function(g){return n.add(g)}):r&&b.push(E)}r&&i.push([y,b])}if(r)for(var m=0,w=i;m<w.length;m++){var x=w[m],y=x[0],b=x[1];e.queries.query[y]=b}}function Ti(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?ce(t.dbOpenError):e});t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller,i=Math.round(10*e.verno),a=!1;function l(){if(t.openCanceller!==r)throw new V.DatabaseClosed("db.open() was cancelled")}function f(){return new M(function(E,m){if(l(),!n)throw new V.MissingAPI;var w=e.name,x=t.autoSchema||!i?n.open(w):n.open(w,i);if(!x)throw new V.MissingAPI;x.onerror=Te(m),x.onblocked=oe(e._fireOnBlocked),x.onupgradeneeded=oe(function(g){var O;_=x.transaction,t.autoSchema&&!e._options.allowEmptyDB?(x.onerror=Rt,_.abort(),x.result.close(),(O=n.deleteDatabase(w)).onsuccess=O.onerror=oe(function(){m(new V.NoSuchDatabase("Database ".concat(w," doesnt exist")))})):(_.onerror=Te(m),g=g.oldVersion>Math.pow(2,62)?0:g.oldVersion,h=g<1,e.idbdb=x.result,a&&Pi(e,_),Ri(e,g/10,_,m))},m),x.onsuccess=oe(function(){_=null;var g,O,S,k,A,C=e.idbdb=x.result,N=re(C.objectStoreNames);if(0<N.length)try{var j=C.transaction((k=N).length===1?k[0]:k,"readonly");if(t.autoSchema)O=C,S=j,(g=e).verno=O.version/10,S=g._dbSchema=rn(0,O,S),g._storeNames=re(O.objectStoreNames,0),tn(g,[g._allTables],v(S),S);else if(on(e,e._dbSchema,j),((A=Qn(rn(0,(A=e).idbdb,j),A._dbSchema)).add.length||A.change.some(function(B){return B.add.length||B.change.length}))&&!a)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),C.close(),i=C.version+1,a=!0,E(f());en(e,j)}catch{}dt.push(e),C.onversionchange=oe(function(B){t.vcFired=!0,e.on("versionchange").fire(B)}),C.onclose=oe(function(B){e.on("close").fire(B)}),h&&(A=e._deps,j=w,C=A.indexedDB,A=A.IDBKeyRange,tr(C)||j===Gt||er(C,A).put({name:j}).catch(te)),E()},m)}).catch(function(E){switch(E==null?void 0:E.name){case"UnknownError":if(0<t.PR1398_maxLoop)return t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),f();break;case"VersionError":if(0<i)return i=0,f()}return M.reject(E)})}var y,b=t.dbReadyResolve,_=null,h=!1;return M.race([r,(typeof navigator>"u"?M.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(E){function m(){return indexedDB.databases().finally(E)}y=setInterval(m,100),m()}).finally(function(){return clearInterval(y)}):Promise.resolve()).then(f)]).then(function(){return l(),t.onReadyBeingFired=[],M.resolve(nr(function(){return e.on.ready.fire(e.vip)})).then(function E(){if(0<t.onReadyBeingFired.length){var m=t.onReadyBeingFired.reduce(Dn,te);return t.onReadyBeingFired=[],M.resolve(nr(function(){return m(e.vip)})).then(E)}})}).finally(function(){t.openCanceller===r&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)}).catch(function(E){t.dbOpenError=E;try{_&&_.abort()}catch{}return r===t.openCanceller&&e._close(),ce(E)}).finally(function(){t.openComplete=!0,b()}).then(function(){var E;return h&&(E={},e.tables.forEach(function(m){m.schema.indexes.forEach(function(w){w.name&&(E["idb://".concat(e.name,"/").concat(m.name,"/").concat(w.name)]=new be(-1/0,[[[]]]))}),E["idb://".concat(e.name,"/").concat(m.name,"/")]=E["idb://".concat(e.name,"/").concat(m.name,"/:dels")]=new be(-1/0,[[[]]])}),Le(Pt).fire(E),ar(E,!0)),e})}function ur(e){function t(a){return e.next(a)}var n=i(t),r=i(function(a){return e.throw(a)});function i(a){return function(y){var f=a(y),y=f.value;return f.done?y:y&&typeof y.then=="function"?y.then(n,r):P(y)?Promise.all(y).then(n,r):n(y)}}return i(t)()}function ln(e,t,n){for(var r=P(e)?e.slice():[e],i=0;i<n;++i)r.push(t);return r}var Ci={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return u(u({},e),{table:function(t){var n=e.table(t),r=n.schema,i={},a=[];function l(h,E,m){var w=Tt(h),x=i[w]=i[w]||[],g=h==null?0:typeof h=="string"?1:h.length,O=0<E,O=u(u({},m),{name:O?"".concat(w,"(virtual-from:").concat(m.name,")"):m.name,lowLevelIndex:m,isVirtual:O,keyTail:E,keyLength:g,extractKey:Xn(h),unique:!O&&m.unique});return x.push(O),O.isPrimaryKey||a.push(O),1<g&&l(g===2?h[0]:h.slice(0,g-1),E+1,m),x.sort(function(S,k){return S.keyTail-k.keyTail}),O}t=l(r.primaryKey.keyPath,0,r.primaryKey),i[":id"]=[t];for(var f=0,y=r.indexes;f<y.length;f++){var b=y[f];l(b.keyPath,0,b)}function _(h){var E,m=h.query.index;return m.isVirtual?u(u({},h),{query:{index:m.lowLevelIndex,range:(E=h.query.range,m=m.keyTail,{type:E.type===1?2:E.type,lower:ln(E.lower,E.lowerOpen?e.MAX_KEY:e.MIN_KEY,m),lowerOpen:!0,upper:ln(E.upper,E.upperOpen?e.MIN_KEY:e.MAX_KEY,m),upperOpen:!0})}}):h}return u(u({},n),{schema:u(u({},r),{primaryKey:t,indexes:a,getIndexByKeyPath:function(h){return(h=i[Tt(h)])&&h[0]}}),count:function(h){return n.count(_(h))},query:function(h){return n.query(_(h))},openCursor:function(h){var E=h.query.index,m=E.keyTail,w=E.isVirtual,x=E.keyLength;return w?n.openCursor(_(h)).then(function(O){return O&&g(O)}):n.openCursor(h);function g(O){return Object.create(O,{continue:{value:function(S){S!=null?O.continue(ln(S,h.reverse?e.MAX_KEY:e.MIN_KEY,m)):h.unique?O.continue(O.key.slice(0,x).concat(h.reverse?e.MIN_KEY:e.MAX_KEY,m)):O.continue()}},continuePrimaryKey:{value:function(S,k){O.continuePrimaryKey(ln(S,e.MAX_KEY,m),k)}},primaryKey:{get:function(){return O.primaryKey}},key:{get:function(){var S=O.key;return x===1?S[0]:S.slice(0,x)}},value:{get:function(){return O.value}}})}}})}})}};function cr(e,t,n,r){return n=n||{},r=r||"",v(e).forEach(function(i){var a,l,f;q(t,i)?(a=e[i],l=t[i],typeof a=="object"&&typeof l=="object"&&a&&l?(f=An(a))!==An(l)?n[r+i]=t[i]:f==="Object"?cr(a,l,n,r+i+"."):a!==l&&(n[r+i]=t[i]):a!==l&&(n[r+i]=t[i])):n[r+i]=void 0}),v(t).forEach(function(i){q(e,i)||(n[r+i]=t[i])}),n}function lr(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var ji={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return u(u({},e),{table:function(t){var n=e.table(t),r=n.schema.primaryKey;return u(u({},n),{mutate:function(i){var a=z.trans,l=a.table(t).hook,f=l.deleting,y=l.creating,b=l.updating;switch(i.type){case"add":if(y.fire===te)break;return a._promise("readwrite",function(){return _(i)},!0);case"put":if(y.fire===te&&b.fire===te)break;return a._promise("readwrite",function(){return _(i)},!0);case"delete":if(f.fire===te)break;return a._promise("readwrite",function(){return _(i)},!0);case"deleteRange":if(f.fire===te)break;return a._promise("readwrite",function(){return function h(E,m,w){return n.query({trans:E,values:!1,query:{index:r,range:m},limit:w}).then(function(x){var g=x.result;return _({type:"delete",keys:g,trans:E}).then(function(O){return 0<O.numFailures?Promise.reject(O.failures[0]):g.length<w?{failures:[],numFailures:0,lastResult:void 0}:h(E,u(u({},m),{lower:g[g.length-1],lowerOpen:!0}),w)})})}(i.trans,i.range,1e4)},!0)}return n.mutate(i);function _(h){var E,m,w,x=z.trans,g=h.keys||lr(r,h);if(!g)throw new Error("Keys missing");return(h=h.type==="add"||h.type==="put"?u(u({},h),{keys:g}):u({},h)).type!=="delete"&&(h.values=d([],h.values)),h.keys&&(h.keys=d([],h.keys)),E=n,w=g,((m=h).type==="add"?Promise.resolve([]):E.getMany({trans:m.trans,keys:w,cache:"immutable"})).then(function(O){var S=g.map(function(k,A){var C,N,j,B=O[A],F={onerror:null,onsuccess:null};return h.type==="delete"?f.fire.call(F,k,B,x):h.type==="add"||B===void 0?(C=y.fire.call(F,k,h.values[A],x),k==null&&C!=null&&(h.keys[A]=k=C,r.outbound||ue(h.values[A],r.keyPath,k))):(C=cr(B,h.values[A]),(N=b.fire.call(F,C,k,B,x))&&(j=h.values[A],Object.keys(N).forEach(function(K){q(j,K)?j[K]=N[K]:ue(j,K,N[K])}))),F});return n.mutate(h).then(function(k){for(var A=k.failures,C=k.results,N=k.numFailures,k=k.lastResult,j=0;j<g.length;++j){var B=(C||g)[j],F=S[j];B==null?F.onerror&&F.onerror(A[j]):F.onsuccess&&F.onsuccess(h.type==="put"&&O[j]?h.values[j]:B)}return{failures:A,results:C,numFailures:N,lastResult:k}}).catch(function(k){return S.forEach(function(A){return A.onerror&&A.onerror(k)}),Promise.reject(k)})})}}})}})}};function ao(e,t,n){try{if(!t||t.keys.length<e.length)return null;for(var r=[],i=0,a=0;i<t.keys.length&&a<e.length;++i)Q(t.keys[i],e[a])===0&&(r.push(n?He(t.values[i]):t.values[i]),++a);return r.length===e.length?r:null}catch{return null}}var Di={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return u(u({},n),{getMany:function(r){if(!r.cache)return n.getMany(r);var i=ao(r.keys,r.trans._cache,r.cache==="clone");return i?M.resolve(i):n.getMany(r).then(function(a){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?He(a):a},a})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),n.mutate(r)}})}}}};function uo(e,t){return e.trans.mode==="readonly"&&!!e.subscr&&!e.trans.explicit&&e.trans.db._options.cache!=="disabled"&&!t.schema.primaryKey.outbound}function co(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Bi={stack:"dbcore",level:0,name:"Observability",create:function(e){var t=e.schema.name,n=new be(e.MIN_KEY,e.MAX_KEY);return u(u({},e),{transaction:function(r,i,a){if(z.subscr&&i!=="readonly")throw new V.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(z.querier));return e.transaction(r,i,a)},table:function(r){var i=e.table(r),a=i.schema,l=a.primaryKey,h=a.indexes,f=l.extractKey,y=l.outbound,b=l.autoIncrement&&h.filter(function(m){return m.compound&&m.keyPath.includes(l.keyPath)}),_=u(u({},i),{mutate:function(m){function w(K){return K="idb://".concat(t,"/").concat(r,"/").concat(K),k[K]||(k[K]=new be)}var x,g,O,S=m.trans,k=m.mutatedParts||(m.mutatedParts={}),A=w(""),C=w(":dels"),N=m.type,F=m.type==="deleteRange"?[m.range]:m.type==="delete"?[m.keys]:m.values.length<50?[lr(l,m).filter(function(K){return K}),m.values]:[],j=F[0],B=F[1],F=m.trans._cache;return P(j)?(A.addKeys(j),(F=N==="delete"||j.length===B.length?ao(j,F):null)||C.addKeys(j),(F||B)&&(x=w,g=F,O=B,a.indexes.forEach(function(K){var L=x(K.name||"");function J(Y){return Y!=null?K.extractKey(Y):null}function X(Y){return K.multiEntry&&P(Y)?Y.forEach(function(Se){return L.addKey(Se)}):L.addKey(Y)}(g||O).forEach(function(Y,ve){var $=g&&J(g[ve]),ve=O&&J(O[ve]);Q($,ve)!==0&&($!=null&&X($),ve!=null&&X(ve))})}))):j?(B={from:(B=j.lower)!==null&&B!==void 0?B:e.MIN_KEY,to:(B=j.upper)!==null&&B!==void 0?B:e.MAX_KEY},C.add(B),A.add(B)):(A.add(n),C.add(n),a.indexes.forEach(function(K){return w(K.name).add(n)})),i.mutate(m).then(function(K){return!j||m.type!=="add"&&m.type!=="put"||(A.addKeys(K.results),b&&b.forEach(function(L){for(var J=m.values.map(function($){return L.extractKey($)}),X=L.keyPath.findIndex(function($){return $===l.keyPath}),Y=0,Se=K.results.length;Y<Se;++Y)J[Y][X]=K.results[Y];w(L.name).addKeys(J)})),S.mutatedParts=un(S.mutatedParts||{},k),K})}}),h=function(w){var x=w.query,w=x.index,x=x.range;return[w,new be((w=x.lower)!==null&&w!==void 0?w:e.MIN_KEY,(x=x.upper)!==null&&x!==void 0?x:e.MAX_KEY)]},E={get:function(m){return[l,new be(m.key)]},getMany:function(m){return[l,new be().addKeys(m.keys)]},count:h,query:h,openCursor:h};return v(E).forEach(function(m){_[m]=function(w){var x=z.subscr,g=!!x,O=uo(z,i)&&co(m,w)?w.obsSet={}:x;if(g){var S=function(B){return B="idb://".concat(t,"/").concat(r,"/").concat(B),O[B]||(O[B]=new be)},k=S(""),A=S(":dels"),x=E[m](w),g=x[0],x=x[1];if((m==="query"&&g.isPrimaryKey&&!w.values?A:S(g.name||"")).add(x),!g.isPrimaryKey){if(m!=="count"){var C=m==="query"&&y&&w.values&&i.query(u(u({},w),{values:!1}));return i[m].apply(this,arguments).then(function(B){if(m==="query"){if(y&&w.values)return C.then(function(J){return J=J.result,k.addKeys(J),B});var F=w.values?B.result.map(f):B.result;(w.values?k:A).addKeys(F)}else if(m==="openCursor"){var K=B,L=w.values;return K&&Object.create(K,{key:{get:function(){return A.addKey(K.primaryKey),K.key}},primaryKey:{get:function(){var J=K.primaryKey;return A.addKey(J),J}},value:{get:function(){return L&&k.addKey(K.primaryKey),K.value}}})}return B})}A.add(n)}}return i[m].apply(this,arguments)}}),_}})}};function lo(e,t,n){if(n.numFailures===0)return t;if(t.type==="deleteRange")return null;var r=t.keys?t.keys.length:"values"in t&&t.values?t.values.length:1;return n.numFailures===r?null:(t=u({},t),P(t.keys)&&(t.keys=t.keys.filter(function(i,a){return!(a in n.failures)})),"values"in t&&P(t.values)&&(t.values=t.values.filter(function(i,a){return!(a in n.failures)})),t)}function fr(e,t){return n=e,((r=t).lower===void 0||(r.lowerOpen?0<Q(n,r.lower):0<=Q(n,r.lower)))&&(e=e,(t=t).upper===void 0||(t.upperOpen?Q(e,t.upper)<0:Q(e,t.upper)<=0));var n,r}function fo(e,t,E,r,i,a){if(!E||E.length===0)return e;var l=t.query.index,f=l.multiEntry,y=t.query.range,b=r.schema.primaryKey.extractKey,_=l.extractKey,h=(l.lowLevelIndex||l).extractKey,E=E.reduce(function(m,w){var x=m,g=[];if(w.type==="add"||w.type==="put")for(var O=new be,S=w.values.length-1;0<=S;--S){var k,A=w.values[S],C=b(A);O.hasKey(C)||(k=_(A),(f&&P(k)?k.some(function(K){return fr(K,y)}):fr(k,y))&&(O.addKey(C),g.push(A)))}switch(w.type){case"add":var N=new be().addKeys(t.values?m.map(function(L){return b(L)}):m),x=m.concat(t.values?g.filter(function(L){return L=b(L),!N.hasKey(L)&&(N.addKey(L),!0)}):g.map(function(L){return b(L)}).filter(function(L){return!N.hasKey(L)&&(N.addKey(L),!0)}));break;case"put":var j=new be().addKeys(w.values.map(function(L){return b(L)}));x=m.filter(function(L){return!j.hasKey(t.values?b(L):L)}).concat(t.values?g:g.map(function(L){return b(L)}));break;case"delete":var B=new be().addKeys(w.keys);x=m.filter(function(L){return!B.hasKey(t.values?b(L):L)});break;case"deleteRange":var F=w.range;x=m.filter(function(L){return!fr(b(L),F)})}return x},e);return E===e?e:(E.sort(function(m,w){return Q(h(m),h(w))||Q(b(m),b(w))}),t.limit&&t.limit<1/0&&(E.length>t.limit?E.length=t.limit:e.length===t.limit&&E.length<t.limit&&(i.dirty=!0)),a?Object.freeze(E):E)}function ho(e,t){return Q(e.lower,t.lower)===0&&Q(e.upper,t.upper)===0&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function Ki(e,t){return function(n,r,i,a){if(n===void 0)return r!==void 0?-1:0;if(r===void 0)return 1;if((r=Q(n,r))===0){if(i&&a)return 0;if(i)return 1;if(a)return-1}return r}(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&0<=function(n,r,i,a){if(n===void 0)return r!==void 0?1:0;if(r===void 0)return-1;if((r=Q(n,r))===0){if(i&&a)return 0;if(i)return-1;if(a)return 1}return r}(e.upper,t.upper,e.upperOpen,t.upperOpen)}function Ni(e,t,n,r){e.subscribers.add(n),r.addEventListener("abort",function(){var i,a;e.subscribers.delete(n),e.subscribers.size===0&&(i=e,a=t,setTimeout(function(){i.subscribers.size===0&&Ve(a,i)},3e3))})}var qi={stack:"dbcore",level:0,name:"Cache",create:function(e){var t=e.schema.name;return u(u({},e),{transaction:function(n,r,i){var a,l,f=e.transaction(n,r,i);return r==="readwrite"&&(l=(a=new AbortController).signal,i=function(y){return function(){if(a.abort(),r==="readwrite"){for(var b=new Set,_=0,h=n;_<h.length;_++){var E=h[_],m=et["idb://".concat(t,"/").concat(E)];if(m){var w=e.table(E),x=m.optimisticOps.filter(function(L){return L.trans===f});if(f._explicit&&y&&f.mutatedParts)for(var g=0,O=Object.values(m.queries.query);g<O.length;g++)for(var S=0,k=(N=O[g]).slice();S<k.length;S++)or((j=k[S]).obsSet,f.mutatedParts)&&(Ve(N,j),j.subscribers.forEach(function(L){return b.add(L)}));else if(0<x.length){m.optimisticOps=m.optimisticOps.filter(function(L){return L.trans!==f});for(var A=0,C=Object.values(m.queries.query);A<C.length;A++)for(var N,j,B,F=0,K=(N=C[A]).slice();F<K.length;F++)(j=K[F]).res!=null&&f.mutatedParts&&(y&&!j.dirty?(B=Object.isFrozen(j.res),B=fo(j.res,j.req,x,w,j,B),j.dirty?(Ve(N,j),j.subscribers.forEach(function(L){return b.add(L)})):B!==j.res&&(j.res=B,j.promise=M.resolve({result:B}))):(j.dirty&&Ve(N,j),j.subscribers.forEach(function(L){return b.add(L)})))}}}b.forEach(function(L){return L()})}}},f.addEventListener("abort",i(!1),{signal:l}),f.addEventListener("error",i(!1),{signal:l}),f.addEventListener("complete",i(!0),{signal:l})),f},table:function(n){var r=e.table(n),i=r.schema.primaryKey;return u(u({},r),{mutate:function(a){var l=z.trans;if(i.outbound||l.db._options.cache==="disabled"||l.explicit||l.idbtrans.mode!=="readwrite")return r.mutate(a);var f=et["idb://".concat(t,"/").concat(n)];return f?(l=r.mutate(a),a.type!=="add"&&a.type!=="put"||!(50<=a.values.length||lr(i,a).some(function(y){return y==null}))?(f.optimisticOps.push(a),a.mutatedParts&&cn(a.mutatedParts),l.then(function(y){0<y.numFailures&&(Ve(f.optimisticOps,a),(y=lo(0,a,y))&&f.optimisticOps.push(y),a.mutatedParts&&cn(a.mutatedParts))}),l.catch(function(){Ve(f.optimisticOps,a),a.mutatedParts&&cn(a.mutatedParts)})):l.then(function(y){var b=lo(0,u(u({},a),{values:a.values.map(function(_,h){var E;return y.failures[h]?_:(_=(E=i.keyPath)!==null&&E!==void 0&&E.includes(".")?He(_):u({},_),ue(_,i.keyPath,y.results[h]),_)})}),y);f.optimisticOps.push(b),queueMicrotask(function(){return a.mutatedParts&&cn(a.mutatedParts)})}),l):r.mutate(a)},query:function(a){if(!uo(z,r)||!co("query",a))return r.query(a);var l=((b=z.trans)===null||b===void 0?void 0:b.db._options.cache)==="immutable",h=z,f=h.requery,y=h.signal,b=function(w,x,g,O){var S=et["idb://".concat(w,"/").concat(x)];if(!S)return[];if(!(x=S.queries[g]))return[null,!1,S,null];var k=x[(O.query?O.query.index.name:null)||""];if(!k)return[null,!1,S,null];switch(g){case"query":var A=k.find(function(C){return C.req.limit===O.limit&&C.req.values===O.values&&ho(C.req.query.range,O.query.range)});return A?[A,!0,S,k]:[k.find(function(C){return("limit"in C.req?C.req.limit:1/0)>=O.limit&&(!O.values||C.req.values)&&Ki(C.req.query.range,O.query.range)}),!1,S,k];case"count":return A=k.find(function(C){return ho(C.req.query.range,O.query.range)}),[A,!!A,S,k]}}(t,n,"query",a),_=b[0],h=b[1],E=b[2],m=b[3];return _&&h?_.obsSet=a.obsSet:(h=r.query(a).then(function(w){var x=w.result;if(_&&(_.res=x),l){for(var g=0,O=x.length;g<O;++g)Object.freeze(x[g]);Object.freeze(x)}else w.result=He(x);return w}).catch(function(w){return m&&_&&Ve(m,_),Promise.reject(w)}),_={obsSet:a.obsSet,promise:h,subscribers:new Set,type:"query",req:a,dirty:!1},m?m.push(_):(m=[_],(E=E||(et["idb://".concat(t,"/").concat(n)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[a.query.index.name||""]=m)),Ni(_,m,f,y),_.promise.then(function(w){return{result:fo(w.result,a,E==null?void 0:E.optimisticOps,r,_,l)}})}})}})}};function fn(e,t){return new Proxy(e,{get:function(n,r,i){return r==="db"?t:Reflect.get(n,r,i)}})}var Ke=(le.prototype.version=function(e){if(isNaN(e)||e<.1)throw new V.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new V.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter(function(r){return r._cfg.version===e})[0];return n||(n=new this.Version(e),t.push(n),t.sort(ki),n.stores({}),this._state.autoSchema=!1,n)},le.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||z.letThrough||this._vip)?e():new M(function(n,r){if(t._state.openComplete)return r(new V.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void r(new V.DatabaseClosed);t.open().catch(te)}t._state.dbReadyPromise.then(n,r)}).then(e)},le.prototype.use=function(e){var t=e.stack,n=e.create,r=e.level,i=e.name;return i&&this.unuse({stack:t,name:i}),e=this._middlewares[t]||(this._middlewares[t]=[]),e.push({stack:t,create:n,level:r??10,name:i}),e.sort(function(a,l){return a.level-l.level}),this},le.prototype.unuse=function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(i){return r?i.create!==r:!!n&&i.name!==n})),this},le.prototype.open=function(){var e=this;return Ye(Ne,function(){return Ti(e)})},le.prototype._close=function(){var e=this._state,t=dt.indexOf(this);if(0<=t&&dt.splice(t,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new M(function(n){e.dbReadyResolve=n}),e.openCanceller=new M(function(n,r){e.cancelOpen=r}))},le.prototype.close=function(n){var t=(n===void 0?{disableAutoOpen:!0}:n).disableAutoOpen,n=this._state;t?(n.isBeingOpened&&n.cancelOpen(new V.DatabaseClosed),this._close(),n.autoOpen=!1,n.dbOpenError=new V.DatabaseClosed):(this._close(),n.autoOpen=this._options.autoOpen||n.isBeingOpened,n.openComplete=!1,n.dbOpenError=null)},le.prototype.delete=function(e){var t=this;e===void 0&&(e={disableAutoOpen:!0});var n=0<arguments.length&&typeof arguments[0]!="object",r=this._state;return new M(function(i,a){function l(){t.close(e);var f=t._deps.indexedDB.deleteDatabase(t.name);f.onsuccess=oe(function(){var y,b,_;y=t._deps,b=t.name,_=y.indexedDB,y=y.IDBKeyRange,tr(_)||b===Gt||er(_,y).delete(b).catch(te),i()}),f.onerror=Te(a),f.onblocked=t._fireOnBlocked}if(n)throw new V.InvalidArgument("Invalid closeOptions argument to db.delete()");r.isBeingOpened?r.dbReadyPromise.then(l):l()})},le.prototype.backendDB=function(){return this.idbdb},le.prototype.isOpen=function(){return this.idbdb!==null},le.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},le.prototype.hasFailed=function(){return this._state.dbOpenError!==null},le.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(le.prototype,"tables",{get:function(){var e=this;return v(this._allTables).map(function(t){return e._allTables[t]})},enumerable:!1,configurable:!0}),le.prototype.transaction=function(){var e=(function(t,n,r){var i=arguments.length;if(i<2)throw new V.InvalidArgument("Too few arguments");for(var a=new Array(i-1);--i;)a[i-1]=arguments[i];return r=a.pop(),[t,jr(a),r]}).apply(this,arguments);return this._transaction.apply(this,e)},le.prototype._transaction=function(e,t,n){var r=this,i=z.trans;i&&i.db===this&&e.indexOf("!")===-1||(i=null);var a,l,f=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");try{if(l=t.map(function(b){if(b=b instanceof r.Table?b.name:b,typeof b!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return b}),e=="r"||e===Un)a=Un;else{if(e!="rw"&&e!=zn)throw new V.InvalidArgument("Invalid transaction mode: "+e);a=zn}if(i){if(i.mode===Un&&a===zn){if(!f)throw new V.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&l.forEach(function(b){if(i&&i.storeNames.indexOf(b)===-1){if(!f)throw new V.SubTransaction("Table "+b+" not included in parent transaction.");i=null}}),f&&i&&!i.active&&(i=null)}}catch(b){return i?i._promise(null,function(_,h){h(b)}):ce(b)}var y=(function b(_,h,E,m,w){return M.resolve().then(function(){var x=z.transless||z,g=_._createTransaction(h,E,_._dbSchema,m);if(g.explicit=!0,x={trans:g,transless:x},m)g.idbtrans=m.idbtrans;else try{g.create(),g.idbtrans._explicit=!0,_._state.PR1398_maxLoop=3}catch(k){return k.name===jn.InvalidState&&_.isOpen()&&0<--_._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),_.close({disableAutoOpen:!1}),_.open().then(function(){return b(_,h,E,null,w)})):ce(k)}var O,S=Cn(w);return S&&ft(),x=M.follow(function(){var k;(O=w.call(g,g))&&(S?(k=Fe.bind(null,null),O.then(k,k)):typeof O.next=="function"&&typeof O.throw=="function"&&(O=ur(O)))},x),(O&&typeof O.then=="function"?M.resolve(O).then(function(k){return g.active?k:ce(new V.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):x.then(function(){return O})).then(function(k){return m&&g._resolve(),g._completion.then(function(){return k})}).catch(function(k){return g._reject(k),ce(k)})})}).bind(null,this,a,l,i,n);return i?i._promise(a,y,"lock"):z.trans?Ye(z.transless,function(){return r._whenReady(y)}):this._whenReady(y)},le.prototype.table=function(e){if(!q(this._allTables,e))throw new V.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},le);function le(e,t){var n=this;this._middlewares={},this.verno=0;var r=le.dependencies;this._options=t=u({addons:le.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,cache:"cloned"},t),this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange},r=t.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var i,a,l,f,y,b={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:te,dbReadyPromise:null,cancelOpen:te,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:t.autoOpen};b.dbReadyPromise=new M(function(h){b.dbReadyResolve=h}),b.openCanceller=new M(function(h,E){b.cancelOpen=E}),this._state=b,this.name=e,this.on=Ot(this,"populate","blocked","versionchange","close",{ready:[Dn,te]}),this.on.ready.subscribe=ae(this.on.ready.subscribe,function(h){return function(E,m){le.vip(function(){var w,x=n._state;x.openComplete?(x.dbOpenError||M.resolve().then(E),m&&h(E)):x.onReadyBeingFired?(x.onReadyBeingFired.push(E),m&&h(E)):(h(E),w=n,m||h(function g(){w.on.ready.unsubscribe(E),w.on.ready.unsubscribe(g)}))})}}),this.Collection=(i=this,St(gi.prototype,function(O,g){this.db=i;var m=zr,w=null;if(g)try{m=g()}catch(S){w=S}var x=O._ctx,g=x.table,O=g.hook.reading.fire;this._ctx={table:g,index:x.index,isPrimKey:!x.index||g.schema.primKey.keyPath&&x.index===g.schema.primKey.name,range:m,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:w,or:x.or,valueMapper:O!==gt?O:null}})),this.Table=(a=this,St($r.prototype,function(h,E,m){this.db=a,this._tx=m,this.name=h,this.schema=E,this.hook=a._allTables[h]?a._allTables[h].hook:Ot(null,{creating:[li,te],reading:[ci,gt],updating:[di,te],deleting:[fi,te]})})),this.Transaction=(l=this,St(xi.prototype,function(h,E,m,w,x){var g=this;this.db=l,this.mode=h,this.storeNames=E,this.schema=m,this.chromeTransactionDurability=w,this.idbtrans=null,this.on=Ot(this,"complete","error","abort"),this.parent=x||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new M(function(O,S){g._resolve=O,g._reject=S}),this._completion.then(function(){g.active=!1,g.on.complete.fire()},function(O){var S=g.active;return g.active=!1,g.on.error.fire(O),g.parent?g.parent._reject(O):S&&g.idbtrans&&g.idbtrans.abort(),ce(O)})})),this.Version=(f=this,St(Ai.prototype,function(h){this.db=f,this._cfg={version:h,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(y=this,St(Qr.prototype,function(h,E,m){if(this.db=y,this._ctx={table:h,index:E===":id"?null:E,or:m},this._cmp=this._ascending=Q,this._descending=function(w,x){return Q(x,w)},this._max=function(w,x){return 0<Q(w,x)?w:x},this._min=function(w,x){return Q(w,x)<0?w:x},this._IDBKeyRange=y._deps.IDBKeyRange,!this._IDBKeyRange)throw new V.MissingAPI})),this.on("versionchange",function(h){0<h.newVersion?console.warn("Another connection wants to upgrade database '".concat(n.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(n.name,"'. Closing db now to resume the delete request.")),n.close({disableAutoOpen:!1})}),this.on("blocked",function(h){!h.newVersion||h.newVersion<h.oldVersion?console.warn("Dexie.delete('".concat(n.name,"') was blocked")):console.warn("Upgrade '".concat(n.name,"' blocked by other connection holding version ").concat(h.oldVersion/10))}),this._maxKey=At(t.IDBKeyRange),this._createTransaction=function(h,E,m,w){return new n.Transaction(h,E,m,n._options.chromeTransactionDurability,w)},this._fireOnBlocked=function(h){n.on("blocked").fire(h),dt.filter(function(E){return E.name===n.name&&E!==n&&!E._state.vcFired}).map(function(E){return E.on("versionchange").fire(h)})},this.use(Di),this.use(qi),this.use(Bi),this.use(Ci),this.use(ji);var _=new Proxy(this,{get:function(h,E,m){if(E==="_vip")return!0;if(E==="table")return function(x){return fn(n.table(x),_)};var w=Reflect.get(h,E,m);return w instanceof $r?fn(w,_):E==="tables"?w.map(function(x){return fn(x,_)}):E==="_createTransaction"?function(){return fn(w.apply(this,arguments),_)}:w}});this.vip=_,r.forEach(function(h){return h(n)})}var dn,Re=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Fi=(dr.prototype.subscribe=function(e,t,n){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:t,complete:n})},dr.prototype[Re]=function(){return this},dr);function dr(e){this._subscribe=e}try{dn={indexedDB:p.indexedDB||p.mozIndexedDB||p.webkitIndexedDB||p.msIndexedDB,IDBKeyRange:p.IDBKeyRange||p.webkitIDBKeyRange}}catch{dn={indexedDB:null,IDBKeyRange:null}}function po(e){var t,n=!1,r=new Fi(function(i){var a=Cn(e),l,f=!1,y={},b={},_={get closed(){return f},unsubscribe:function(){f||(f=!0,l&&l.abort(),h&&Le.storagemutated.unsubscribe(m))}};i.start&&i.start(_);var h=!1,E=function(){return Ln(w)},m=function(x){un(y,x),or(b,y)&&E()},w=function(){var x,g,O;!f&&dn.indexedDB&&(y={},x={},l&&l.abort(),l=new AbortController,O=function(S){var k=ct();try{a&&ft();var A=qe(e,S);return A=a?A.finally(Fe):A}finally{k&&lt()}}(g={subscr:x,signal:l.signal,requery:E,querier:e,trans:null}),Promise.resolve(O).then(function(S){n=!0,t=S,f||g.signal.aborted||(y={},function(k){for(var A in k)if(q(k,A))return;return 1}(b=x)||h||(Le(Pt,m),h=!0),Ln(function(){return!f&&i.next&&i.next(S)}))},function(S){n=!1,["DatabaseClosedError","AbortError"].includes(S==null?void 0:S.name)||f||Ln(function(){f||i.error&&i.error(S)})}))};return setTimeout(E,0),_});return r.hasValue=function(){return n},r.getValue=function(){return t},r}var tt=Ke;function hr(e){var t=Ue;try{Ue=!0,Le.storagemutated.fire(e),ar(e,!0)}finally{Ue=t}}Z(tt,u(u({},Mt),{delete:function(e){return new tt(e,{addons:[]}).delete()},exists:function(e){return new tt(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return t=tt.dependencies,n=t.indexedDB,t=t.IDBKeyRange,(tr(n)?Promise.resolve(n.databases()).then(function(r){return r.map(function(i){return i.name}).filter(function(i){return i!==Gt})}):er(n,t).toCollection().primaryKeys()).then(e)}catch{return ce(new V.MissingAPI)}var t,n},defineClass:function(){return function(e){I(this,e)}},ignoreTransaction:function(e){return z.trans?Ye(z.transless,e):e()},vip:nr,async:function(e){return function(){try{var t=ur(e.apply(this,arguments));return t&&typeof t.then=="function"?t:M.resolve(t)}catch(n){return ce(n)}}},spawn:function(e,t,n){try{var r=ur(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:M.resolve(r)}catch(i){return ce(i)}},currentTransaction:{get:function(){return z.trans||null}},waitFor:function(e,t){return t=M.resolve(typeof e=="function"?tt.ignoreTransaction(e):e).timeout(t||6e4),z.trans?z.trans.waitFor(t):t},Promise:M,debug:{get:function(){return Ae},set:function(e){Nr(e)}},derive:W,extend:I,props:Z,override:ae,Events:Ot,on:Le,liveQuery:po,extendObservabilitySet:un,getByKeyPath:he,setByKeyPath:ue,delByKeyPath:function(e,t){typeof t=="string"?ue(e,t,void 0):"length"in t&&[].map.call(t,function(n){ue(e,n,void 0)})},shallowClone:ze,deepClone:He,getObjectDiff:cr,cmp:Q,asap:me,minKey:-1/0,addons:[],connections:dt,errnames:jn,dependencies:dn,cache:et,semVer:"4.0.11",version:"4.0.11".split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,2*n)})})),tt.maxKey=At(tt.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Le(Pt,function(e){Ue||(e=new CustomEvent($n,{detail:e}),Ue=!0,dispatchEvent(e),Ue=!1)}),addEventListener($n,function(e){e=e.detail,Ue||hr(e)}));var yt,Ue=!1,yo=function(){};return typeof BroadcastChannel<"u"&&((yo=function(){(yt=new BroadcastChannel($n)).onmessage=function(e){return e.data&&hr(e.data)}})(),typeof yt.unref=="function"&&yt.unref(),Le(Pt,function(e){Ue||yt.postMessage(e)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(e){if(!Ke.disableBfCache&&e.persisted){Ae&&console.debug("Dexie: handling persisted pagehide"),yt!=null&&yt.close();for(var t=0,n=dt;t<n.length;t++)n[t].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(e){!Ke.disableBfCache&&e.persisted&&(Ae&&console.debug("Dexie: handling persisted pageshow"),yo(),hr({all:new be(-1/0,[[]])}))})),M.rejectionMapper=function(e,t){return!e||e instanceof at||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Kr[e.name]?e:(t=new Kr[e.name](t||e.message,e),"stack"in e&&U(t,"stack",{get:function(){return this.inner.stack}}),t)},Nr(Ae),u(Ke,Object.freeze({__proto__:null,Dexie:Ke,liveQuery:po,Entity:Hr,cmp:Q,PropModification:kt,replacePrefix:function(e,t){return new kt({replacePrefix:[e,t]})},add:function(e){return new kt({add:e})},remove:function(e){return new kt({remove:e})},default:Ke,RangeSet:be,mergeRanges:jt,rangesOverlap:ro}),{default:Ke}),Ke})}(vn)),vn.exports}var Aa=Pa();const Rr=zi(Aa),Do=Symbol.for("Dexie"),xn=globalThis[Do]||(globalThis[Do]=Rr);if(Rr.semVer!==xn.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Rr.semVer} and ${xn.semVer}`);const{liveQuery:Ta,mergeRanges:La,rangesOverlap:Ua,RangeSet:za,cmp:Ha,Entity:Va,PropModification:Wa,replacePrefix:$a,add:Ja,remove:Ga}=xn;function Ca(o,s,c){var u,d;typeof o=="function"?(u=s,d=c):(u=[],d=s);var p=Dt.useRef({hasResult:!1,result:d,error:null}),v=Dt.useReducer(function(T){return T+1},0);v[0];var P=v[1],I=Dt.useMemo(function(){var T=typeof o=="function"?o():o;if(!T||typeof T.subscribe!="function")throw o===T?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!p.current.hasResult&&typeof window<"u"&&(typeof T.hasValue!="function"||T.hasValue()))if(typeof T.getValue=="function")p.current.result=T.getValue(),p.current.hasResult=!0;else{var D=T.subscribe(function(q){p.current.result=q,p.current.hasResult=!0});typeof D=="function"?D():D.unsubscribe()}return T},u);if(Dt.useDebugValue(p.current.result),Dt.useEffect(function(){var T=I.subscribe(function(D){var q=p.current;(q.error!==null||q.result!==D)&&(q.error=null,q.result=D,q.hasResult=!0,P())},function(D){var q=p.current;q.error!==D&&(q.error=D,P())});return typeof T=="function"?T:T.unsubscribe.bind(T)},u),p.current.error)throw p.current.error;return p.current.result}function ja(o,s,c){return Ca(function(){return Ta(o)},s,c)}class Da extends xn{constructor(){super("storage");mo(this,"files");this.version(1).stores({files:"++id, path, content"})}}const Bo=new Da;function Ba(){const[o,s]=gn.useState(null);return gn.useLayoutEffect(()=>{function c(){s({width:window.screen.width*window.devicePixelRatio,height:window.screen.height*window.devicePixelRatio})}return window.addEventListener("resize",c),c(),()=>window.removeEventListener("resize",c)},[]),o}function Ka(){const{wallpaper:o}=Xi(),s=Ba(),c=gn.useMemo(()=>s!=null&&s.width?s.width>1920:null,[s]),u=ja(()=>Bo.files.filter(v=>v.path.startsWith("/assets/wallpapers/")).toArray(),[o.id,s]),d=gn.useMemo(()=>typeof c=="boolean"?`${o.id}${c?"":"_1920"}`:null,[c,o.id]);return Gi({queryKey:["wallpaper",o.id,u,s],queryFn:async()=>{try{const v=u==null?void 0:u.find(P=>P.path===`/assets/wallpapers/default-${d}.jpg`);if(v)return URL.createObjectURL(v.content);{const P=await de({url:c?o.url:o.url_1920,method:"GET",responseType:"blob"});return await Bo.files.put({path:`/assets/wallpapers/default-${d}.jpg`,content:P.data}),URL.createObjectURL(P.data)}}catch(v){throw Error(v.message)}},enabled:!!u&&s!==null,placeholderData:Hi})}function Xa(){const o=Ka(),{taskIsOpen:s}=$i(),c=Vi();return fe.jsx(fe.Fragment,{children:fe.jsxs(yr,{pos:"absolute",style:{userSelect:"none",pointerEvents:"none",zIndex:0},top:0,right:0,bottom:0,left:0,children:[fe.jsx(pn,{mounted:o.isSuccess&&!!o.data,duration:c.animations?void 0:0,children:u=>fe.jsx(fe.Fragment,{children:fe.jsxs(yr,{style:u,w:"100%",h:"100%",children:[fe.jsx(mr,{pos:"absolute",bgp:"center",bgr:"no-repeat",bgsz:"cover",src:o.data,style:{filter:s("launcher")?"brightness(50%)":"none",transition:c.animations?"filter 0.250s":"none"},alt:"",w:"100%",h:"100%"}),c.transparency?fe.jsx(pn,{mounted:s("launcher"),duration:c.animations?void 0:0,children:d=>fe.jsxs(fe.Fragment,{children:[fe.jsx(mr,{pos:"absolute",bgp:"center",bgr:"no-repeat",bgsz:"cover",src:o.data,alt:"",w:"100%",h:"100%",style:{...d,filter:"blur(1em) brightness(50%)",transform:"scale(1.1)"}}),fe.jsx(mr,{pos:"absolute",bgp:"center",bgr:"no-repeat",bgsz:"cover",src:o.data,alt:"",w:"100%",h:"100%",style:{...d,filter:"blur(1em) brightness(50%)"}}),fe.jsx(yr,{style:{...d,pointerEvents:"none"},pos:"absolute",left:0,top:0,right:0,bottom:0,children:fe.jsx(Ji,{})})]})}):null]})})}),fe.jsx(pn,{mounted:o.isPending,duration:c.animations?void 0:0,children:u=>fe.jsx(bo,{style:u,w:"100%",h:"100%",children:fe.jsx(Wi,{color:"dark.5"})})}),fe.jsx(pn,{mounted:o.isError,duration:c.animations?void 0:0,children:u=>fe.jsx(bo,{style:u,w:"100%",h:"100%",children:fe.jsx(Yi,{})})})]})})}export{Xa as default};
